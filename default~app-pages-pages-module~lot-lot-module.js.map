{"version":3,"sources":["webpack:///./node_modules/ng2-material-dropdown/fesm5/ng2-material-dropdown.js","webpack:///./node_modules/ngx-chips/esm5/ngx-chips.js","webpack:///./src/app/@theme/model/lot-class.ts","webpack:///./src/app/@theme/services/lot.service.ts","webpack:///./src/app/pages/lot/add-edit-lot/add-edit-lot.component.html","webpack:///./src/app/pages/lot/add-edit-lot/add-edit-lot.component.scss","webpack:///./src/app/pages/lot/add-edit-lot/add-edit-lot.component.ts","webpack:///./src/app/pages/lot/lot-routing.module.ts","webpack:///./src/app/pages/lot/lot.component.html","webpack:///./src/app/pages/lot/lot.component.scss","webpack:///./src/app/pages/lot/lot.component.ts","webpack:///./src/app/pages/lot/lot.module.ts","webpack:///./src/app/pages/lot/view-lot/view-lot.component.html","webpack:///./src/app/pages/lot/view-lot/view-lot.component.scss","webpack:///./src/app/pages/lot/view-lot/view-lot.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgK;AACpE;AAC7C;;AAE/C;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA,iCAAiC,0DAAY;AAC7C;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,mDAAmD,sDAAsD,gBAAgB,sBAAsB,eAAe,sBAAsB,WAAW,UAAU,eAAe,gBAAgB,YAAY,gCAAgC,gBAAgB,gBAAgB,WAAW,aAAa,mBAAmB,gBAAgB,2BAA2B,WAAW,uDAAuD,WAAW,gCAAgC,4BAA4B,aAAa,4BAA4B,WAAW,YAAY,aAAa,YAAY,+DAA+D,YAAY,eAAe,WAAW,mBAAmB,mBAAmB,kBAAkB,YAAY,aAAa,sEAAsE,0BAA0B;AACl4B;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,oDAAoD;AACpD,SAAS,OAAO,wDAAU,GAAG;AAC7B,MAAM;AACN;AACA,2BAA2B,OAAO,oDAAM,EAAE;AAC1C,uBAAuB,OAAO,mDAAK,EAAE;AACrC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA,eAAe,EAAE,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C,iCAAiC,0DAAY;AAC7C,mCAAmC,0DAAY;AAC/C;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,uCAAuC,sBAAsB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA,kCAAkC,EAAE;AACpC;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,wDAAU,EAAE;AAC5B;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,6CAA6C,sDAAsD,gBAAgB,sBAAsB,eAAe,eAAe,oBAAoB,gBAAgB,qBAAqB,YAAY,iBAAiB,qBAAqB,uBAAuB,mBAAmB,gBAAgB,2BAA2B,yBAAyB,gCAAgC,UAAU,qBAAqB,UAAU,sBAAsB,gCAAgC,iDAAiD,sBAAsB,eAAe,YAAY,YAAY,sBAAsB;AACnoB;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,8CAA8C;AAC9C,SAAS,8BAA8B;AACvC,SAAS,OAAO,wDAAU,GAAG;AAC7B,SAAS,OAAO,sDAAQ,GAAG;AAC3B,MAAM;AACN;AACA,0BAA0B,OAAO,mDAAK,EAAE;AACxC,mBAAmB,OAAO,mDAAK,EAAE;AACjC;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,gBAAgB;AACjD,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE,WAAW;AAC5B,eAAe,EAAE,UAAU;AAC3B,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE,WAAW;AAC5B,eAAe,EAAE,UAAU;AAC3B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,oBAAoB;AACpB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,iCAAiC,gBAAgB;AACjD,uBAAuB,EAAE;AACzB,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA,oCAAoC,cAAc,mBAAmB,gBAAgB,sCAAsC,kBAAkB,eAAe,gBAAgB,kBAAkB,iBAAiB,YAAY,aAAa,cAAc,qDAAqD,eAAe,+CAA+C,YAAY,+CAA+C,YAAY,+CAA+C,YAAY,uBAAuB,eAAe,MAAM,OAAO,WAAW,YAAY,UAAU,gBAAgB,+BAA+B,WAAW,eAAe,eAAe,WAAW,cAAc,mBAAmB;AACnsB,yGAAyG,SAAS;AAClH;AACA,wBAAwB,mEAAO;AAC/B,4BAA4B,iEAAK,YAAY,iEAAK,EAAE,wDAAwD;AAC5G,4BAA4B,iEAAK,WAAW,iEAAK,EAAE,uEAAuE;AAC1H,4BAA4B,sEAAU;AACtC,gCAAgC,mEAAO,kBAAkB,iEAAK,EAAE,sCAAsC;AACtG;AACA,4BAA4B,sEAAU;AACtC,gCAAgC,mEAAO,mBAAmB,iEAAK,EAAE,kCAAkC;AACnG;AACA;AACA,wBAAwB,mEAAO;AAC/B,4BAA4B,sEAAU;AACtC,gCAAgC,mEAAO,kBAAkB,qEAAS;AAClE,oCAAoC,iEAAK,EAAE,wBAAwB;AACnE,oCAAoC,iEAAK,EAAE,wBAAwB;AACnE;AACA;AACA,4BAA4B,sEAAU;AACtC,gCAAgC,mEAAO,mBAAmB,qEAAS;AACnE,oCAAoC,iEAAK,EAAE,wBAAwB;AACnE,oCAAoC,iEAAK,EAAE,4BAA4B;AACvE,oCAAoC,iEAAK,EAAE,wBAAwB;AACnE;AACA;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,kDAAkD;AAClD,SAAS,8BAA8B;AACvC,SAAS,OAAO,wDAAU,GAAG;AAC7B,SAAS,OAAO,sDAAQ,GAAG;AAC3B,MAAM;AACN;AACA,mBAAmB,OAAO,mDAAK,EAAE;AACjC,+BAA+B,OAAO,mDAAK,EAAE;AAC7C,oBAAoB,OAAO,mDAAK,EAAE;AAClC,0BAA0B,OAAO,mDAAK,EAAE;AACxC,oBAAoB,OAAO,mDAAK,EAAE;AAClC,mBAAmB,OAAO,6DAAe,wBAAwB;AACjE;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0DAAY;AAC7C,kCAAkC,0DAAY;AAC9C,0BAA0B,0DAAY;AACtC,0BAA0B,0DAAY;AACtC;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,2BAA2B,EAAE;AAC7B,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,sCAAsC;AACxE;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,sCAAsC;AACxE;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,8CAA8C;AAC9C,SAAS,8BAA8B;AACvC,MAAM;AACN;AACA,oBAAoB,OAAO,0DAAY,8BAA8B;AACrE,kBAAkB,OAAO,0DAAY,4BAA4B;AACjE,2BAA2B,OAAO,mDAAK,EAAE;AACzC,2BAA2B,OAAO,oDAAM,EAAE;AAC1C,4BAA4B,OAAO,oDAAM,EAAE;AAC3C,oBAAoB,OAAO,oDAAM,EAAE;AACnC,oBAAoB,OAAO,oDAAM,EAAE;AACnC,4BAA4B,OAAO,0DAAY,4BAA4B;AAC3E;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,sDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,4DAAY;AACpC;AACA,iBAAiB,IAAI;AACrB;AACA;AACA,CAAC;;AAED;AACA;AACA,cAAc,WAAW;AACzB;;AAEA;AACA;AACA,cAAc,WAAW;AACzB;;AAEiH;;AAEjH,2CAA2C,cAAc,+37C;;;;;;;;;;;;AC/wBzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoE;AAC+L;AAC7H;AACpE;AACK;AACqB;AAC7C;;AAE/C,2BAA2B,uCAAuC,aAAa;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,kDAAI;AAChB;AACA,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,wDAAU,EAAE;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D,4DAA4D;AAC5D;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA;AACA,4DAA4D,2BAA2B,EAAE;AACzF;AACA;AACA,CAAC;AACD;AACA,mBAAmB,OAAO,mDAAK,EAAE;AACjC,oBAAoB,OAAO,mDAAK,EAAE;AAClC;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0DAAY;AACxC,0BAA0B,0DAAY;AACtC,2BAA2B,0DAAY;AACvC,2BAA2B,0DAAY;AACvC,6BAA6B,0DAAY;AACzC,mCAAmC,0DAAY;AAC/C;AACA;AACA;AACA;AACA,wBAAwB,0DAAW,EAAE,qCAAqC;AAC1E;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,wBAAwB,wDAAS;AACjC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,kCAAkC,EAAE;AACxE,iCAAiC,sBAAsB,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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AAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mEAAY,iBAAiB,6DAAM;AACrD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,uDAAS;AACrB;AACA,kVAAkV,mBAAmB,ybAAyb,uCAAuC;AACr0B,aAAa,IAAI;AACjB;AACA,+CAA+C;AAC/C,KAAK,OAAO,sDAAQ,GAAG;AACvB,EAAE;AACF;AACA,kBAAkB,OAAO,uDAAS,SAAS,iEAAW,IAAI;AAC1D,mBAAmB,OAAO,6DAAe,SAAS,yDAAW,IAAI;AACjE,gBAAgB,OAAO,mDAAK,EAAE;AAC9B,2BAA2B,OAAO,mDAAK,EAAE;AACzC,6BAA6B,OAAO,mDAAK,EAAE;AAC3C,gCAAgC,OAAO,mDAAK,EAAE;AAC9C,2BAA2B,OAAO,mDAAK,EAAE;AACzC,sBAAsB,OAAO,mDAAK,EAAE;AACpC,mBAAmB,OAAO,mDAAK,EAAE;AACjC,oBAAoB,OAAO,mDAAK,EAAE;AAClC,oBAAoB,OAAO,mDAAK,EAAE;AAClC,sBAAsB,OAAO,mDAAK,EAAE;AACpC,kBAAkB,OAAO,mDAAK,EAAE;AAChC,uBAAuB,OAAO,mDAAK,EAAE;AACrC,gBAAgB,OAAO,mDAAK,EAAE;AAC9B,2BAA2B,OAAO,mDAAK,EAAE;AACzC,wBAAwB,OAAO,0DAAY,4BAA4B;AACvE,sBAAsB,OAAO,0DAAY,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,uDAAS;AACrB;AACA,2CAA2C,0BAA0B,2BAA2B,sBAAsB,+BAA+B,iCAAiC,WAAW,iCAAiC,6CAA6C,uBAAuB,wBAAwB,2BAA2B,+CAA+C,iCAAiC,WAAW;AACpb;AACA;AACA,oBAAoB,mEAAO;AAC3B,wBAAwB,iEAAK,SAAS,iEAAK,EAAE,uBAAuB;AACpE,wBAAwB,sEAAU;AAClC,4BAA4B,mEAAO,MAAM,qEAAS;AAClD,gCAAgC,iEAAK,EAAE,4DAA4D;AACnG,gCAAgC,iEAAK,EAAE,wCAAwC;AAC/E,gCAAgC,iEAAK,EAAE,+DAA+D;AACtG;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA,eAAe,OAAO,mDAAK,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0DAAY;AACxC,4BAA4B,0DAAY;AACxC,0BAA0B,0DAAY;AACtC,6BAA6B,0DAAY;AACzC,+BAA+B,0DAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,kCAAkC;AACnE;AACA;AACA;AACA;AACA;AACA,gCAAgC,kCAAkC,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,sBAAsB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,mCAAmC,gCAAgC;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,uDAAS;AACrB;AACA,kfAAkf,4BAA4B,ulBAAulB,0BAA0B;AAC/nC,0DAA0D,UAAU,gBAAgB,8BAA8B,sBAAsB,UAAU,MAAM,gBAAgB,YAAY,iDAAiD,yCAAyC,yBAAyB,GAAG,YAAY,iBAAiB,GAAG,YAAY,gBAAgB,mBAAmB,6BAA6B,UAAU,aAAa,8BAA8B,6BAA6B,uBAAuB,mBAAmB,oBAAoB,oBAAoB,aAAa,WAAW,gBAAgB,uBAAuB,mBAAmB;AAC5oB,aAAa,IAAI;AACjB;AACA,2CAA2C;AAC3C,KAAK,OAAO,wDAAU,GAAG;AACzB,KAAK,OAAO,uDAAS,GAAG;AACxB,KAAK,OAAO,+DAAiB,GAAG;AAChC,EAAE;AACF;AACA,eAAe,OAAO,mDAAK,EAAE;AAC7B,mBAAmB,OAAO,mDAAK,EAAE;AACjC,kBAAkB,OAAO,mDAAK,EAAE;AAChC,kBAAkB,OAAO,mDAAK,EAAE;AAChC,mBAAmB,OAAO,mDAAK,EAAE;AACjC,oBAAoB,OAAO,mDAAK,EAAE;AAClC,eAAe,OAAO,mDAAK,EAAE;AAC7B,mBAAmB,OAAO,mDAAK,EAAE;AACjC,kBAAkB,OAAO,mDAAK,EAAE;AAChC,mBAAmB,OAAO,mDAAK,EAAE;AACjC,kBAAkB,OAAO,oDAAM,EAAE;AACjC,kBAAkB,OAAO,oDAAM,EAAE;AACjC,gBAAgB,OAAO,oDAAM,EAAE;AAC/B,mBAAmB,OAAO,oDAAM,EAAE;AAClC,qBAAqB,OAAO,oDAAM,EAAE;AACpC,gBAAgB,OAAO,yDAAW,2BAA2B;AAC7D,gBAAgB,OAAO,uDAAS,sBAAsB;AACtD,iBAAiB,OAAO,0DAAY,kCAAkC;AACtE;AACA;AACA,IAAI,mEAAO;AACX,QAAQ,iEAAK,OAAO,iEAAK;AACzB;AACA,SAAS;AACT,QAAQ,iEAAK,QAAQ,iEAAK;AAC1B;AACA,SAAS;AACT,QAAQ,sEAAU;AAClB,YAAY,mEAAO,IAAI,SAAS,GAAG,qEAAS;AAC5C,gBAAgB,iEAAK,EAAE,2DAA2D;AAClF,gBAAgB,iEAAK,EAAE,gEAAgE;AACvF,gBAAgB,iEAAK,EAAE,8DAA8D;AACrF,gBAAgB,iEAAK,EAAE,gEAAgE;AACvF,gBAAgB,iEAAK,EAAE,0DAA0D;AACjF;AACA;AACA,QAAQ,sEAAU;AAClB,YAAY,mEAAO,IAAI,SAAS,GAAG,qEAAS;AAC5C,gBAAgB,iEAAK,EAAE,oDAAoD;AAC3E,gBAAgB,iEAAK,EAAE,0DAA0D;AACjF,gBAAgB,iEAAK,EAAE,yDAAyD;AAChF;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,gEAAiB;AAC9B,iBAAiB,gEAAU,cAAc,0BAA0B,EAAE;AACrE;AACA;AACA,iBAAiB,gEAAU,cAAc,0CAA0C,EAAE;AACrF;AACA,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,0DAAY;AACtC,6BAA6B,0DAAY;AACzC,6BAA6B,0DAAY;AACzC,4BAA4B,0DAAY;AACxC,2BAA2B,0DAAY;AACvC,iCAAiC,0DAAY;AAC7C,4BAA4B,0DAAY;AACxC,sCAAsC,0DAAY;AAClD,gCAAgC,0DAAY;AAC5C;AACA,kCAAkC;AAClC,oCAAoC,0DAAY;AAChD;AACA;AACA;AACA,mCAAmC,4BAA4B;AAC/D;AACA;AACA,0BAA0B,sDAAQ;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wCAAwC,UAAU;AACrF;AACA;AACA;AACA,8CAA8C,0BAA0B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,QAAQ,uDAAS;AAClE;AACA;AACA,mBAAmB,yDAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,0CAA0C,gCAAgC,gCAAgC,EAAE,MAAM;AAClH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb,SAAS,EAAE;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,6DAAM,oBAAoB,6BAA6B,EAAE;AACrF;AACA,SAAS;AACT,yDAAyD,0DAAG;AAC5D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4DAAK;AAC/B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4DAAK;AAC/B;AACA,SAAS;AACT;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,qCAAqC,EAAE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uDAAS;AACxB;AACA,mBAAmB,yDAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA,iCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD,6CAA6C,6BAA6B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,qBAAqB,8CAA8C;AACnE;AACA;AACA,oCAAoC,+BAA+B;AACnE;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,2BAA2B,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,0BAA0B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,6DAAM,0BAA0B,mCAAmC,EAAE,GAAG,4DAAK;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,EAAE;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,kBAAkB,mEAAY;AAC9B;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,mEAAY,OAAO,6DAAM;AAC3C;AACA,qCAAqC,gCAAgC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gDAAgD,wCAAwC,EAAE;AAC1F;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,OAAO,uDAAS;AACrB;AACA;AACA,0CAA0C,qCAAqC,6BAA6B,+BAA+B,sBAAsB,qBAAqB,WAAW,sBAAsB,eAAe,YAAY,iBAAiB,qCAAqC,YAAY,wBAAwB,gBAAgB,UAAU,6BAA6B,cAAc,SAAS,WAAW,kBAAkB,qEAAqE,WAAW,UAAU,yEAAyE,WAAW,8EAA8E,WAAW,2CAA2C,YAAY,wBAAwB,gBAAgB,sDAAsD,kDAAkD,0CAA0C,sBAAsB,sDAAsD,2CAA2C,mCAAmC,eAAe,cAAc,8BAA8B,6BAA6B,uBAAuB,mBAAmB,mBAAmB,eAAe,kBAAkB,4BAA4B,oBAAoB,iBAAiB,gBAAgB,YAAY,gCAAgC,qBAAqB,UAAU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","file":"default~app-pages-pages-module~lot-lot-module.js","sourcesContent":["import { Component, Output, Input, EventEmitter, ElementRef, Injectable, Renderer, ContentChildren, HostListener, ContentChild, NgModule } from '@angular/core';\nimport { trigger, style, transition, animate, keyframes, state } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Ng2DropdownButton = /** @class */ (function () {\n    function Ng2DropdownButton(element) {\n        this.element = element;\n        this.onMenuToggled = new EventEmitter();\n        this.showCaret = true;\n    }\n    /**\n     * \\@name toggleMenu\n     * @desc emits event to toggle menu\n     * @return {?}\n     */\n    Ng2DropdownButton.prototype.toggleMenu = /**\n     * \\@name toggleMenu\n     * @desc emits event to toggle menu\n     * @return {?}\n     */\n    function () {\n        this.onMenuToggled.emit(true);\n    };\n    /**\n     * \\@name getPosition\n     * @desc returns position of the button\n     * @return {?}\n     */\n    Ng2DropdownButton.prototype.getPosition = /**\n     * \\@name getPosition\n     * @desc returns position of the button\n     * @return {?}\n     */\n    function () {\n        return this.element.nativeElement.getBoundingClientRect();\n    };\n    Ng2DropdownButton.decorators = [\n        { type: Component, args: [{\n                    selector: 'ng2-dropdown-button',\n                    styles: [\".ng2-dropdown-button{font-family:Roboto,\\\"Helvetica Neue\\\",Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button:hover{color:#222}.ng2-dropdown-button:active,.ng2-dropdown-button:focus{color:#222;border-bottom:2px solid #2196f3}.ng2-dropdown-button__label{flex:1 1 95%}.ng2-dropdown-button__caret{width:12px;height:12px;display:flex;flex:1 1 6%}:host-context(.ng2-dropdown-button--icon) .ng2-dropdown-button{border:none;min-width:40px;width:40px;border-radius:100%;transition:all .2s;text-align:center;height:40px;padding:.5em}:host-context(.ng2-dropdown-button--icon) .ng2-dropdown-button:active{background:rgba(0,0,0,.2)}\"],\n                    template: \"<button class='ng2-dropdown-button' type=\\\"button\\\" (click)=\\\"toggleMenu()\\\" tabindex=\\\"0s\\\">\\n    <span class=\\\"ng2-dropdown-button__label\\\">\\n        <ng-content></ng-content>\\n    </span>\\n\\n    <span class=\\\"ng2-dropdown-button__caret\\\" *ngIf=\\\"showCaret\\\">\\n        <svg enable-background=\\\"new 0 0 32 32\\\" height=\\\"16px\\\" id=\\\"\\u0421\\u043B\\u043E\\u0439_1\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\" width=\\\"16px\\\" xml:space=\\\"preserve\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><path d=\\\"M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z\\\" fill=\\\"#121313\\\" id=\\\"Expand_More\\\"/><g/><g/><g/><g/><g/><g/></svg>\\n    </span>\\n</button>\\n\"\n                },] },\n    ];\n    /** @nocollapse */\n    Ng2DropdownButton.ctorParameters = function () { return [\n        { type: ElementRef, },\n    ]; };\n    Ng2DropdownButton.propDecorators = {\n        \"onMenuToggled\": [{ type: Output },],\n        \"showCaret\": [{ type: Input },],\n    };\n    return Ng2DropdownButton;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar /** @type {?} */ KEYS = {\n    BACKSPACE: 9,\n    PREV: 38,\n    NEXT: 40,\n    ENTER: 13,\n    ESCAPE: 27\n};\n/**\n * \\@name onSwitchNext\n * @param index\n * @param items\n * @param state\n */\nvar /** @type {?} */ onSwitchNext = function (index, items, state$$1) {\n    if (index < items.length - 1) {\n        state$$1.select(items[index + 1], true);\n    }\n};\n/**\n * \\@name onSwitchPrev\n * @param index\n * @param items\n * @param state\n */\nvar /** @type {?} */ onSwitchPrev = function (index, items, state$$1) {\n    if (index > 0) {\n        state$$1.select(items[index - 1], true);\n    }\n};\n/**\n * \\@name onBackspace\n * @param index\n * @param items\n * @param state\n */\nvar /** @type {?} */ onBackspace = function (index, items, state$$1) {\n    if (index < items.length - 1) {\n        state$$1.select(items[index + 1], true);\n    }\n    else {\n        state$$1.select(items[0], true);\n    }\n};\n/**\n * @this {?}\n * @return {?}\n */\nfunction onEscape() {\n    this.hide();\n}\n/**\n * \\@name onItemClicked\n * @param index\n * @param items\n * @param state\n */\nvar /** @type {?} */ onItemClicked = function (index, items, state$$1) {\n    return state$$1.selectedItem ? state$$1.selectedItem.click() : undefined;\n};\nvar /** @type {?} */ ACTIONS = (_a = {},\n    _a[KEYS.BACKSPACE] = onBackspace,\n    _a[KEYS.PREV] = onSwitchPrev,\n    _a[KEYS.NEXT] = onSwitchNext,\n    _a[KEYS.ENTER] = onItemClicked,\n    _a[KEYS.ESCAPE] = onEscape,\n    _a);\n/**\n * @param {?} event\n * @return {?}\n */\nfunction arrowKeysHandler(event) {\n    if ([38, 40].indexOf(event.keyCode) > -1) {\n        event.preventDefault();\n    }\n}\nvar _a;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Ng2DropdownState = /** @class */ (function () {\n    function Ng2DropdownState() {\n        this.onItemSelected = new EventEmitter();\n        this.onItemClicked = new EventEmitter();\n        this.onItemDestroyed = new EventEmitter();\n    }\n    Object.defineProperty(Ng2DropdownState.prototype, \"selectedItem\", {\n        get: /**\n         * \\@name selectedItem\n         * @desc getter for _selectedItem\n         * @return {?}\n         */\n        function () {\n            return this._selectedItem;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * \\@name selects a menu item and emits event\n     * @param {?} item\n     * @param {?=} dispatchEvent\n     * @return {?}\n     */\n    Ng2DropdownState.prototype.select = /**\n     * \\@name selects a menu item and emits event\n     * @param {?} item\n     * @param {?=} dispatchEvent\n     * @return {?}\n     */\n    function (item, dispatchEvent) {\n        if (dispatchEvent === void 0) { dispatchEvent = true; }\n        this._selectedItem = item;\n        if (!dispatchEvent || !item) {\n            return;\n        }\n        item.focus();\n        this.onItemSelected.emit(item);\n    };\n    /**\n     * \\@name unselect\n     * @desc sets _selectedItem as undefined\n     * @return {?}\n     */\n    Ng2DropdownState.prototype.unselect = /**\n     * \\@name unselect\n     * @desc sets _selectedItem as undefined\n     * @return {?}\n     */\n    function () {\n        this._selectedItem = undefined;\n    };\n    return Ng2DropdownState;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar DropdownStateService = /** @class */ (function () {\n    function DropdownStateService() {\n        this.menuState = {\n            isVisible: /** @type {?} */ (false),\n            toString: /**\n             * @return {?}\n             */\n            function () {\n                return this.isVisible === true ? 'visible' : 'hidden';\n            }\n        };\n        this.dropdownState = new Ng2DropdownState();\n    }\n    DropdownStateService.decorators = [\n        { type: Injectable },\n    ];\n    return DropdownStateService;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Ng2MenuItem = /** @class */ (function () {\n    function Ng2MenuItem(state$$1, element, renderer) {\n        this.state = state$$1;\n        this.element = element;\n        this.renderer = renderer;\n        /**\n         * \\@preventClose\n         * @desc if true, clicking on the item won't close the dropdown\n         */\n        this.preventClose = false;\n    }\n    /**\n     * @return {?}\n     */\n    Ng2MenuItem.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n    function () {\n        this.state.dropdownState.onItemDestroyed.emit(this);\n    };\n    Object.defineProperty(Ng2MenuItem.prototype, \"isSelected\", {\n        get: /**\n         * \\@name isSelected\n         * @desc returns current selected item\n         * @return {?}\n         */\n        function () {\n            return this === this.state.dropdownState.selectedItem;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * \\@name click\n     * @desc emits select event\n     * @param {?=} $event\n     * @return {?}\n     */\n    Ng2MenuItem.prototype.select = /**\n     * \\@name click\n     * @desc emits select event\n     * @param {?=} $event\n     * @return {?}\n     */\n    function ($event) {\n        this.state.dropdownState.select(this, true);\n        if ($event) {\n            $event.stopPropagation();\n            $event.preventDefault();\n        }\n    };\n    /**\n     * \\@name click\n     * @desc emits click event\n     * @return {?}\n     */\n    Ng2MenuItem.prototype.click = /**\n     * \\@name click\n     * @desc emits click event\n     * @return {?}\n     */\n    function () {\n        this.state.dropdownState.onItemClicked.emit(this);\n    };\n    /**\n     * \\@name focus\n     * @return {?}\n     */\n    Ng2MenuItem.prototype.focus = /**\n     * \\@name focus\n     * @return {?}\n     */\n    function () {\n        this.renderer.invokeElementMethod(this.element.nativeElement.children[0], 'focus');\n    };\n    Ng2MenuItem.decorators = [\n        { type: Component, args: [{\n                    selector: 'ng2-menu-item',\n                    styles: [\".ng2-menu-item{font-family:Roboto,\\\"Helvetica Neue\\\",Helvetica,Arial;background:#fff;color:rgba(0,0,0,.87);cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item:focus{outline:0}.ng2-menu-item:active{background:rgba(158,158,158,.4)}:host(ng2-menu-item) /deep/ [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:rgba(0,0,0,.44)}\"],\n                    template: \"<div class='ng2-menu-item'\\n     role=\\\"button\\\"\\n     tabindex=\\\"0\\\"\\n     [class.ng2-menu-item--selected]=\\\"isSelected\\\"\\n     (keydown.enter)=\\\"click()\\\"\\n     (click)=\\\"click()\\\"\\n     (mouseover)=\\\"select()\\\">\\n        <ng-content></ng-content>\\n</div>\\n\"\n                },] },\n    ];\n    /** @nocollapse */\n    Ng2MenuItem.ctorParameters = function () { return [\n        { type: DropdownStateService, },\n        { type: ElementRef, },\n        { type: Renderer, },\n    ]; };\n    Ng2MenuItem.propDecorators = {\n        \"preventClose\": [{ type: Input },],\n        \"value\": [{ type: Input },],\n    };\n    return Ng2MenuItem;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Ng2DropdownMenu = /** @class */ (function () {\n    function Ng2DropdownMenu(state$$1, element, renderer) {\n        this.state = state$$1;\n        this.element = element;\n        this.renderer = renderer;\n        /**\n         * \\@name width\n         */\n        this.width = 4;\n        /**\n         * \\@description if set to true, the first element of the dropdown will be automatically focused\n         * \\@name focusFirstElement\n         */\n        this.focusFirstElement = true;\n        /**\n         * \\@name appendToBody\n         */\n        this.appendToBody = true;\n        /**\n         * \\@name zIndex\n         */\n        this.zIndex = 1000;\n        this.listeners = {\n            arrowHandler: undefined,\n            handleKeypress: undefined\n        };\n    }\n    /**\n     * \\@name show\n     * \\@shows menu and selects first item\n     * @param {?=} position\n     * @param {?=} dynamic\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.show = /**\n     * \\@name show\n     * \\@shows menu and selects first item\n     * @param {?=} position\n     * @param {?=} dynamic\n     * @return {?}\n     */\n    function (position, dynamic) {\n        if (dynamic === void 0) { dynamic = true; }\n        var /** @type {?} */ dc = typeof document !== 'undefined' ? document : undefined;\n        var /** @type {?} */ wd = typeof window !== 'undefined' ? window : undefined;\n        if (!this.state.menuState.isVisible) {\n            // setting handlers\n            this.listeners.handleKeypress = this.renderer.listen(dc.body, 'keydown', this.handleKeypress.bind(this));\n            this.listeners.arrowHandler = this.renderer.listen(wd, 'keydown', arrowKeysHandler);\n        }\n        // update state\n        this.state.menuState.isVisible = true;\n        if (position) {\n            this.updatePosition(position, dynamic);\n        }\n    };\n    /**\n     * \\@name hide\n     * @desc hides menu\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.hide = /**\n     * \\@name hide\n     * @desc hides menu\n     * @return {?}\n     */\n    function () {\n        this.state.menuState.isVisible = false;\n        // reset selected item state\n        this.state.dropdownState.unselect();\n        // call function to unlisten\n        this.listeners.arrowHandler ? this.listeners.arrowHandler() : undefined;\n        this.listeners.handleKeypress ? this.listeners.handleKeypress() : undefined;\n    };\n    /**\n     * \\@name updatePosition\n     * @desc updates the menu position every time it is toggled\n     * @param {?} position {ClientRect}\n     * @param {?} dynamic {boolean}\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.updatePosition = /**\n     * \\@name updatePosition\n     * @desc updates the menu position every time it is toggled\n     * @param {?} position {ClientRect}\n     * @param {?} dynamic {boolean}\n     * @return {?}\n     */\n    function (position, dynamic) {\n        this.position = position;\n        this.updateOnChange(dynamic);\n    };\n    /**\n     * \\@name handleKeypress\n     * @desc executes functions on keyPress based on the key pressed\n     * @param {?} $event\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.handleKeypress = /**\n     * \\@name handleKeypress\n     * @desc executes functions on keyPress based on the key pressed\n     * @param {?} $event\n     * @return {?}\n     */\n    function ($event) {\n        var /** @type {?} */ key = $event.keyCode;\n        var /** @type {?} */ items = this.items.toArray();\n        var /** @type {?} */ index = items.indexOf(this.state.dropdownState.selectedItem);\n        if (!ACTIONS.hasOwnProperty(key)) {\n            return;\n        }\n        ACTIONS[key].call(this, index, items, this.state.dropdownState);\n    };\n    /**\n     * \\@name getMenuElement\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.getMenuElement = /**\n     * \\@name getMenuElement\n     * @return {?}\n     */\n    function () {\n        return this.element.nativeElement.children[0];\n    };\n    /**\n     * \\@name calcPositionOffset\n     * @param {?} position\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.calcPositionOffset = /**\n     * \\@name calcPositionOffset\n     * @param {?} position\n     * @return {?}\n     */\n    function (position) {\n        var /** @type {?} */ wd = typeof window !== 'undefined' ? window : undefined;\n        var /** @type {?} */ dc = typeof document !== 'undefined' ? document : undefined;\n        if (!wd || !dc || !position) {\n            return;\n        }\n        var /** @type {?} */ element = this.getMenuElement();\n        var /** @type {?} */ supportPageOffset = wd.pageXOffset !== undefined;\n        var /** @type {?} */ isCSS1Compat = ((dc.compatMode || '') === 'CSS1Compat');\n        var /** @type {?} */ x = supportPageOffset ? wd.pageXOffset : isCSS1Compat ?\n            dc.documentElement.scrollLeft : dc.body.scrollLeft;\n        var /** @type {?} */ y = supportPageOffset ? wd.pageYOffset : isCSS1Compat ?\n            dc.documentElement.scrollTop : dc.body.scrollTop;\n        var _a = this.applyOffset(position.top + (this.appendToBody ? y - 15 : 0) + \"px\", position.left + x - 5 + \"px\"), top = _a.top, left = _a.left;\n        var /** @type {?} */ clientWidth = element.clientWidth;\n        var /** @type {?} */ clientHeight = element.clientHeight;\n        var /** @type {?} */ marginFromBottom = parseInt(top) + clientHeight + (this.appendToBody ? 0 : y - 15);\n        var /** @type {?} */ marginFromRight = parseInt(left) + clientWidth;\n        var /** @type {?} */ windowScrollHeight = wd.innerHeight + wd.scrollY;\n        var /** @type {?} */ windowScrollWidth = wd.innerWidth + wd.scrollX;\n        if (marginFromBottom >= windowScrollHeight) {\n            top = parseInt(top.replace('px', '')) - clientHeight + \"px\";\n        }\n        if (marginFromRight >= windowScrollWidth) {\n            var /** @type {?} */ marginRight = marginFromRight - windowScrollWidth + 30;\n            left = parseInt(left.replace('px', '')) - marginRight + \"px\";\n        }\n        return { top: top, left: left };\n    };\n    /**\n     * @param {?} top\n     * @param {?} left\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.applyOffset = /**\n     * @param {?} top\n     * @param {?} left\n     * @return {?}\n     */\n    function (top, left) {\n        if (!this.offset) {\n            return { top: top, left: left };\n        }\n        var /** @type {?} */ offset = this.offset.split(' ');\n        if (!offset[1]) {\n            offset[1] = '0';\n        }\n        top = parseInt(top.replace('px', '')) + parseInt(offset[0]) + \"px\";\n        left = parseInt(left.replace('px', '')) + parseInt(offset[1]) + \"px\";\n        return { top: top, left: left };\n    };\n    /**\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ dc = typeof document !== 'undefined' ? document : undefined;\n        if (this.appendToBody) {\n            // append menu element to the body\n            dc.body.appendChild(this.element.nativeElement);\n        }\n    };\n    /**\n     * @param {?=} dynamic\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.updateOnChange = /**\n     * @param {?=} dynamic\n     * @return {?}\n     */\n    function (dynamic) {\n        if (dynamic === void 0) { dynamic = true; }\n        var /** @type {?} */ element = this.getMenuElement();\n        var /** @type {?} */ position = this.calcPositionOffset(this.position);\n        if (position) {\n            this.renderer.setElementStyle(element, 'top', position.top.toString());\n            this.renderer.setElementStyle(element, 'left', position.left.toString());\n        }\n        // select first item unless user disabled this option\n        if (this.focusFirstElement &&\n            this.items.first &&\n            !this.state.dropdownState.selectedItem) {\n            this.state.dropdownState.select(this.items.first, false);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    Ng2DropdownMenu.prototype.ngOnDestroy = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ elem = this.element.nativeElement;\n        elem.parentNode.removeChild(elem);\n        if (this.listeners.handleKeypress) {\n            this.listeners.handleKeypress();\n        }\n    };\n    Ng2DropdownMenu.decorators = [\n        { type: Component, args: [{\n                    selector: 'ng2-dropdown-menu',\n                    styles: [\":host{display:block}.ng2-dropdown-menu{overflow-y:auto;box-shadow:0 1px 2px 0 rgba(0,0,0,.3);position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6{width:320px}.ng2-dropdown-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}:host /deep/ .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}\"],\n                    template: \"<!-- MENU -->\\n<div class='ng2-dropdown-menu ng2-dropdown-menu---width--{{ width }}'\\n     [class.ng2-dropdown-menu--inside-element]=\\\"!appendToBody\\\"\\n     [class.ng2-dropdown-menu--open]=\\\"state.menuState.isVisible\\\"\\n     [style.z-index]=\\\"zIndex\\\"\\n     [@fade]=\\\"state.menuState.toString()\\\">\\n        <div class=\\\"ng2-dropdown-menu__options-container\\\"\\n             [@opacity]=\\\"state.menuState.toString()\\\">\\n            <ng-content></ng-content>\\n        </div>\\n</div>\\n\\n<!-- BACKDROP -->\\n<div class=\\\"ng2-dropdown-backdrop\\\" *ngIf=\\\"state.menuState.isVisible\\\" (click)=\\\"hide()\\\"></div>\\n\",\n                    animations: [\n                        trigger('fade', [\n                            state('visible', style({ display: 'block', opacity: 1, height: '*', width: '*' })),\n                            state('hidden', style({ display: 'none', opacity: 0, overflow: 'hidden', height: 0, width: 0 })),\n                            transition('hidden => visible', [\n                                animate('250ms ease-in', style({ opacity: 1, height: '*', width: '*' }))\n                            ]),\n                            transition('visible => hidden', [\n                                animate('350ms ease-out', style({ opacity: 0, width: 0, height: 0 }))\n                            ])\n                        ]),\n                        trigger('opacity', [\n                            transition('hidden => visible', [\n                                animate('450ms ease-in', keyframes([\n                                    style({ opacity: 0, offset: 0 }),\n                                    style({ opacity: 1, offset: 1 }),\n                                ]))\n                            ]),\n                            transition('visible => hidden', [\n                                animate('250ms ease-out', keyframes([\n                                    style({ opacity: 1, offset: 0 }),\n                                    style({ opacity: 0.5, offset: 0.3 }),\n                                    style({ opacity: 0, offset: 1 }),\n                                ]))\n                            ])\n                        ])\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    Ng2DropdownMenu.ctorParameters = function () { return [\n        { type: DropdownStateService, },\n        { type: ElementRef, },\n        { type: Renderer, },\n    ]; };\n    Ng2DropdownMenu.propDecorators = {\n        \"width\": [{ type: Input },],\n        \"focusFirstElement\": [{ type: Input },],\n        \"offset\": [{ type: Input },],\n        \"appendToBody\": [{ type: Input },],\n        \"zIndex\": [{ type: Input },],\n        \"items\": [{ type: ContentChildren, args: [Ng2MenuItem,] },],\n    };\n    return Ng2DropdownMenu;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Ng2Dropdown = /** @class */ (function () {\n    function Ng2Dropdown(state$$1) {\n        this.state = state$$1;\n        this.dynamicUpdate = true;\n        // outputs\n        this.onItemClicked = new EventEmitter();\n        this.onItemSelected = new EventEmitter();\n        this.onShow = new EventEmitter();\n        this.onHide = new EventEmitter();\n    }\n    /**\n     * @return {?}\n     */\n    Ng2Dropdown.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.state.dropdownState.onItemClicked.subscribe(function (item) {\n            _this.onItemClicked.emit(item);\n            if (item.preventClose) {\n                return;\n            }\n            _this.hide.call(_this);\n        });\n        if (this.button) {\n            this.button.onMenuToggled.subscribe(function () {\n                _this.toggleMenu();\n            });\n        }\n        this.state.dropdownState.onItemSelected.subscribe(function (item) {\n            _this.onItemSelected.emit(item);\n        });\n        this.state.dropdownState.onItemDestroyed.subscribe(function (item) {\n            var /** @type {?} */ newSelectedItem;\n            var /** @type {?} */ items = _this.menu.items.toArray();\n            if (item !== _this.state.dropdownState.selectedItem) {\n                return;\n            }\n            if (_this.menu.focusFirstElement) {\n                newSelectedItem = item === items[0] && items.length > 1 ? items[1] : items[0];\n            }\n            _this.state.dropdownState.select(newSelectedItem);\n        });\n    };\n    /**\n     * \\@name toggleMenu\n     * @desc toggles menu visibility\n     * @param {?=} position\n     * @return {?}\n     */\n    Ng2Dropdown.prototype.toggleMenu = /**\n     * \\@name toggleMenu\n     * @desc toggles menu visibility\n     * @param {?=} position\n     * @return {?}\n     */\n    function (position) {\n        if (position === void 0) { position = this.button.getPosition(); }\n        this.state.menuState.isVisible ? this.hide() : this.show(position);\n    };\n    /**\n     * - hides dropdown\n     * \\@name hide\n     * @return {?}\n     */\n    Ng2Dropdown.prototype.hide = /**\n     * - hides dropdown\n     * \\@name hide\n     * @return {?}\n     */\n    function () {\n        this.menu.hide();\n        this.onHide.emit(this);\n    };\n    /**\n     * - shows dropdown\n     * \\@name show\n     * @param {?=} position\n     * @return {?}\n     */\n    Ng2Dropdown.prototype.show = /**\n     * - shows dropdown\n     * \\@name show\n     * @param {?=} position\n     * @return {?}\n     */\n    function (position) {\n        if (position === void 0) { position = this.button.getPosition(); }\n        this.menu.show(position, this.dynamicUpdate);\n        this.onShow.emit(this);\n    };\n    /**\n     * \\@name scrollListener\n     * @return {?}\n     */\n    Ng2Dropdown.prototype.scrollListener = /**\n     * \\@name scrollListener\n     * @return {?}\n     */\n    function () {\n        if (this.button && this.dynamicUpdate) {\n            this.menu.updatePosition(this.button.getPosition(), true);\n        }\n    };\n    Ng2Dropdown.decorators = [\n        { type: Component, args: [{\n                    selector: 'ng2-dropdown',\n                    template: \"<div class=\\\"ng2-dropdown-container\\\">\\n    <ng-content select=\\\"ng2-dropdown-button\\\"></ng-content>\\n    <ng-content select=\\\"ng2-dropdown-menu\\\"></ng-content>\\n</div>\\n\",\n                    providers: [DropdownStateService]\n                },] },\n    ];\n    /** @nocollapse */\n    Ng2Dropdown.ctorParameters = function () { return [\n        { type: DropdownStateService, },\n    ]; };\n    Ng2Dropdown.propDecorators = {\n        \"button\": [{ type: ContentChild, args: [Ng2DropdownButton,] },],\n        \"menu\": [{ type: ContentChild, args: [Ng2DropdownMenu,] },],\n        \"dynamicUpdate\": [{ type: Input },],\n        \"onItemClicked\": [{ type: Output },],\n        \"onItemSelected\": [{ type: Output },],\n        \"onShow\": [{ type: Output },],\n        \"onHide\": [{ type: Output },],\n        \"scrollListener\": [{ type: HostListener, args: ['window:scroll',] },],\n    };\n    return Ng2Dropdown;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar Ng2DropdownModule = /** @class */ (function () {\n    function Ng2DropdownModule() {\n    }\n    Ng2DropdownModule.decorators = [\n        { type: NgModule, args: [{\n                    exports: [\n                        Ng2MenuItem,\n                        Ng2DropdownButton,\n                        Ng2DropdownMenu,\n                        Ng2Dropdown\n                    ],\n                    declarations: [\n                        Ng2Dropdown,\n                        Ng2MenuItem,\n                        Ng2DropdownButton,\n                        Ng2DropdownMenu,\n                    ],\n                    imports: [\n                        CommonModule\n                    ]\n                },] },\n    ];\n    return Ng2DropdownModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nexport { Ng2Dropdown, Ng2DropdownMenu, Ng2MenuItem, Ng2DropdownButton, Ng2DropdownModule, DropdownStateService };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLW1hdGVyaWFsLWRyb3Bkb3duLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9uZzItbWF0ZXJpYWwtZHJvcGRvd24vc3JjL21vZHVsZXMvY29tcG9uZW50cy9idXR0b24vbmcyLWRyb3Bkb3duLWJ1dHRvbi50cyIsIm5nOi8vbmcyLW1hdGVyaWFsLWRyb3Bkb3duL3NyYy9tb2R1bGVzL2NvbXBvbmVudHMvbWVudS9hY3Rpb25zLnRzIiwibmc6Ly9uZzItbWF0ZXJpYWwtZHJvcGRvd24vc3JjL21vZHVsZXMvc2VydmljZXMvbmcyLWRyb3Bkb3duLXN0YXRlLnRzIiwibmc6Ly9uZzItbWF0ZXJpYWwtZHJvcGRvd24vc3JjL21vZHVsZXMvc2VydmljZXMvZHJvcGRvd24tc3RhdGUuc2VydmljZS50cyIsIm5nOi8vbmcyLW1hdGVyaWFsLWRyb3Bkb3duL3NyYy9tb2R1bGVzL2NvbXBvbmVudHMvbWVudS1pdGVtL25nMi1tZW51LWl0ZW0udHMiLCJuZzovL25nMi1tYXRlcmlhbC1kcm9wZG93bi9zcmMvbW9kdWxlcy9jb21wb25lbnRzL21lbnUvbmcyLWRyb3Bkb3duLW1lbnUudHMiLCJuZzovL25nMi1tYXRlcmlhbC1kcm9wZG93bi9zcmMvbW9kdWxlcy9jb21wb25lbnRzL2Ryb3Bkb3duL25nMi1kcm9wZG93bi50cyIsIm5nOi8vbmcyLW1hdGVyaWFsLWRyb3Bkb3duL3NyYy9tb2R1bGVzL25nMi1kcm9wZG93bi5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgT3V0cHV0LFxuICAgIElucHV0LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBFbGVtZW50UmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ25nMi1kcm9wZG93bi1idXR0b24nLFxuICAgIHN0eWxlczogW2AubmcyLWRyb3Bkb3duLWJ1dHRvbntmb250LWZhbWlseTpSb2JvdG8sXCJIZWx2ZXRpY2EgTmV1ZVwiLEhlbHZldGljYSxBcmlhbDtiYWNrZ3JvdW5kOiNmZmY7cGFkZGluZzouNDVyZW0gLjI1cmVtO2ZvbnQtc2l6ZToxNHB4O2xldHRlci1zcGFjaW5nOi4wOHJlbTtjb2xvcjojNDQ0O291dGxpbmU6MDtjdXJzb3I6cG9pbnRlcjtmb250LXdlaWdodDo0MDA7Ym9yZGVyOm5vbmU7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2VmZWZlZjt0ZXh0LWFsaWduOmxlZnQ7bWluLXdpZHRoOjEwMHB4O3dpZHRoOjEwMCU7ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdzttYXgtd2lkdGg6MTUwcHh9Lm5nMi1kcm9wZG93bi1idXR0b246aG92ZXJ7Y29sb3I6IzIyMn0ubmcyLWRyb3Bkb3duLWJ1dHRvbjphY3RpdmUsLm5nMi1kcm9wZG93bi1idXR0b246Zm9jdXN7Y29sb3I6IzIyMjtib3JkZXItYm90dG9tOjJweCBzb2xpZCAjMjE5NmYzfS5uZzItZHJvcGRvd24tYnV0dG9uX19sYWJlbHtmbGV4OjEgMSA5NSV9Lm5nMi1kcm9wZG93bi1idXR0b25fX2NhcmV0e3dpZHRoOjEycHg7aGVpZ2h0OjEycHg7ZGlzcGxheTpmbGV4O2ZsZXg6MSAxIDYlfTpob3N0LWNvbnRleHQoLm5nMi1kcm9wZG93bi1idXR0b24tLWljb24pIC5uZzItZHJvcGRvd24tYnV0dG9ue2JvcmRlcjpub25lO21pbi13aWR0aDo0MHB4O3dpZHRoOjQwcHg7Ym9yZGVyLXJhZGl1czoxMDAlO3RyYW5zaXRpb246YWxsIC4yczt0ZXh0LWFsaWduOmNlbnRlcjtoZWlnaHQ6NDBweDtwYWRkaW5nOi41ZW19Omhvc3QtY29udGV4dCgubmcyLWRyb3Bkb3duLWJ1dHRvbi0taWNvbikgLm5nMi1kcm9wZG93bi1idXR0b246YWN0aXZle2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuMil9YF0sXG4gICAgdGVtcGxhdGU6IGA8YnV0dG9uIGNsYXNzPSduZzItZHJvcGRvd24tYnV0dG9uJyB0eXBlPVwiYnV0dG9uXCIgKGNsaWNrKT1cInRvZ2dsZU1lbnUoKVwiIHRhYmluZGV4PVwiMHNcIj5cbiAgICA8c3BhbiBjbGFzcz1cIm5nMi1kcm9wZG93bi1idXR0b25fX2xhYmVsXCI+XG4gICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8L3NwYW4+XG5cbiAgICA8c3BhbiBjbGFzcz1cIm5nMi1kcm9wZG93bi1idXR0b25fX2NhcmV0XCIgKm5nSWY9XCJzaG93Q2FyZXRcIj5cbiAgICAgICAgPHN2ZyBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgMzIgMzJcIiBoZWlnaHQ9XCIxNnB4XCIgaWQ9XCLDkMKhw5DCu8OQwr7DkMK5XzFcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIHdpZHRoPVwiMTZweFwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPjxwYXRoIGQ9XCJNMjQuMjg1LDExLjI4NEwxNiwxOS41NzFsLTguMjg1LTguMjg4Yy0wLjM5NS0wLjM5NS0xLjAzNC0wLjM5NS0xLjQyOSwwICBjLTAuMzk0LDAuMzk1LTAuMzk0LDEuMDM1LDAsMS40M2w4Ljk5OSw5LjAwMmwwLDBsMCwwYzAuMzk0LDAuMzk1LDEuMDM0LDAuMzk1LDEuNDI4LDBsOC45OTktOS4wMDIgIGMwLjM5NC0wLjM5NSwwLjM5NC0xLjAzNiwwLTEuNDMxQzI1LjMxOSwxMC44ODksMjQuNjc5LDEwLjg4OSwyNC4yODUsMTEuMjg0elwiIGZpbGw9XCIjMTIxMzEzXCIgaWQ9XCJFeHBhbmRfTW9yZVwiLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48L3N2Zz5cbiAgICA8L3NwYW4+XG48L2J1dHRvbj5cbmBcbn0pXG5leHBvcnQgY2xhc3MgTmcyRHJvcGRvd25CdXR0b24ge1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgb25NZW51VG9nZ2xlZDogRXZlbnRFbWl0dGVyPGJvb2xlYW4+ID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuICAgIEBJbnB1dCgpIHB1YmxpYyBzaG93Q2FyZXQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmKSB7fVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgdG9nZ2xlTWVudVxuICAgICAqIEBkZXNjIGVtaXRzIGV2ZW50IHRvIHRvZ2dsZSBtZW51XG4gICAgICovXG4gICAgcHVibGljIHRvZ2dsZU1lbnUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMub25NZW51VG9nZ2xlZC5lbWl0KHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGdldFBvc2l0aW9uXG4gICAgICogQGRlc2MgcmV0dXJucyBwb3NpdGlvbiBvZiB0aGUgYnV0dG9uXG4gICAgICovXG4gICAgcHVibGljIGdldFBvc2l0aW9uKCk6IENsaWVudFJlY3Qge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE5nMk1lbnVJdGVtIH0gZnJvbSAnLi4vbWVudS1pdGVtL25nMi1tZW51LWl0ZW0nO1xuaW1wb3J0IHsgTmcyRHJvcGRvd25NZW51IH0gZnJvbSAnLi9uZzItZHJvcGRvd24tbWVudSc7XG5pbXBvcnQgeyBOZzJEcm9wZG93blN0YXRlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbmcyLWRyb3Bkb3duLXN0YXRlJztcblxuY29uc3QgS0VZUyA9IHtcbiAgICBCQUNLU1BBQ0U6IDksXG4gICAgUFJFVjogMzgsXG4gICAgTkVYVDogNDAsXG4gICAgRU5URVI6IDEzLFxuICAgIEVTQ0FQRTogMjdcbn07XG5cbi8qKlxuICogQG5hbWUgb25Td2l0Y2hOZXh0XG4gKiBAcGFyYW0gaW5kZXhcbiAqIEBwYXJhbSBpdGVtc1xuICogQHBhcmFtIHN0YXRlXG4gKi9cbmNvbnN0IG9uU3dpdGNoTmV4dCA9IChpbmRleDogbnVtYmVyLCBpdGVtczogTmcyTWVudUl0ZW1bXSwgc3RhdGU6IE5nMkRyb3Bkb3duU3RhdGUpID0+IHtcbiAgICBpZiAoaW5kZXggPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHN0YXRlLnNlbGVjdChpdGVtc1tpbmRleCArIDFdLCB0cnVlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBuYW1lIG9uU3dpdGNoUHJldlxuICogQHBhcmFtIGluZGV4XG4gKiBAcGFyYW0gaXRlbXNcbiAqIEBwYXJhbSBzdGF0ZVxuICovXG5jb25zdCBvblN3aXRjaFByZXYgPSAoaW5kZXg6IG51bWJlciwgaXRlbXM6IE5nMk1lbnVJdGVtW10sIHN0YXRlOiBOZzJEcm9wZG93blN0YXRlKSA9PiB7XG4gICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBzdGF0ZS5zZWxlY3QoaXRlbXNbaW5kZXggLSAxXSwgdHJ1ZSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAbmFtZSBvbkJhY2tzcGFjZVxuICogQHBhcmFtIGluZGV4XG4gKiBAcGFyYW0gaXRlbXNcbiAqIEBwYXJhbSBzdGF0ZVxuICovXG5jb25zdCBvbkJhY2tzcGFjZSA9IChpbmRleDogbnVtYmVyLCBpdGVtczogTmcyTWVudUl0ZW1bXSwgc3RhdGU6IE5nMkRyb3Bkb3duU3RhdGUpID0+IHtcbiAgICBpZiAoaW5kZXggPCBpdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHN0YXRlLnNlbGVjdChpdGVtc1tpbmRleCArIDFdLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5zZWxlY3QoaXRlbXNbMF0sIHRydWUpO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIG9uRXNjYXBlKHRoaXM6IE5nMkRyb3Bkb3duTWVudSkge1xuICAgIHRoaXMuaGlkZSgpO1xufTtcblxuLyoqXG4gKiBAbmFtZSBvbkl0ZW1DbGlja2VkXG4gKiBAcGFyYW0gaW5kZXhcbiAqIEBwYXJhbSBpdGVtc1xuICogQHBhcmFtIHN0YXRlXG4gKi9cbmNvbnN0IG9uSXRlbUNsaWNrZWQgPSAoaW5kZXg6IG51bWJlciwgaXRlbXM6IE5nMk1lbnVJdGVtW10sIHN0YXRlOiBOZzJEcm9wZG93blN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLnNlbGVjdGVkSXRlbSA/IHN0YXRlLnNlbGVjdGVkSXRlbS5jbGljaygpIDogdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IEFDVElPTlMgPSB7XG4gICAgW0tFWVMuQkFDS1NQQUNFXTogb25CYWNrc3BhY2UsXG4gICAgW0tFWVMuUFJFVl06IG9uU3dpdGNoUHJldixcbiAgICBbS0VZUy5ORVhUXTogb25Td2l0Y2hOZXh0LFxuICAgIFtLRVlTLkVOVEVSXTogb25JdGVtQ2xpY2tlZCxcbiAgICBbS0VZUy5FU0NBUEVdOiBvbkVzY2FwZVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFycm93S2V5c0hhbmRsZXIoZXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoWzM4LCA0MF0uaW5kZXhPZihldmVudC5rZXlDb2RlKSA+IC0xKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZzJNZW51SXRlbSB9IGZyb20gJy4uL2NvbXBvbmVudHMvbWVudS1pdGVtL25nMi1tZW51LWl0ZW0nO1xuZXhwb3J0IGNsYXNzIE5nMkRyb3Bkb3duU3RhdGUge1xuICAgIHB1YmxpYyBvbkl0ZW1TZWxlY3RlZDogRXZlbnRFbWl0dGVyPE5nMk1lbnVJdGVtPiA9IG5ldyBFdmVudEVtaXR0ZXI8TmcyTWVudUl0ZW0+KCk7XG4gICAgcHVibGljIG9uSXRlbUNsaWNrZWQ6IEV2ZW50RW1pdHRlcjxOZzJNZW51SXRlbT4gPSBuZXcgRXZlbnRFbWl0dGVyPE5nMk1lbnVJdGVtPigpO1xuICAgIHB1YmxpYyBvbkl0ZW1EZXN0cm95ZWQ6IEV2ZW50RW1pdHRlcjxOZzJNZW51SXRlbT4gPSBuZXcgRXZlbnRFbWl0dGVyPE5nMk1lbnVJdGVtPigpO1xuXG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWRJdGVtOiBOZzJNZW51SXRlbTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHNlbGVjdGVkSXRlbVxuICAgICAqIEBkZXNjIGdldHRlciBmb3IgX3NlbGVjdGVkSXRlbVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXQgc2VsZWN0ZWRJdGVtKCk6IE5nMk1lbnVJdGVtIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkSXRlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBzZWxlY3RzIGEgbWVudSBpdGVtIGFuZCBlbWl0cyBldmVudFxuICAgICAqIEBwYXJhbSBpdGVtXG4gICAgICovXG4gICAgcHVibGljIHNlbGVjdChpdGVtOiBOZzJNZW51SXRlbSB8IHVuZGVmaW5lZCwgZGlzcGF0Y2hFdmVudCA9IHRydWUpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRJdGVtID0gaXRlbTtcblxuICAgICAgICBpZiAoIWRpc3BhdGNoRXZlbnQgfHwgIWl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW0uZm9jdXMoKTtcblxuICAgICAgICB0aGlzLm9uSXRlbVNlbGVjdGVkLmVtaXQoaXRlbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgdW5zZWxlY3RcbiAgICAgKiBAZGVzYyBzZXRzIF9zZWxlY3RlZEl0ZW0gYXMgdW5kZWZpbmVkXG4gICAgICovXG4gICAgcHVibGljIHVuc2VsZWN0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9zZWxlY3RlZEl0ZW0gPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmcyRHJvcGRvd25TdGF0ZSB9IGZyb20gJy4vbmcyLWRyb3Bkb3duLXN0YXRlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERyb3Bkb3duU3RhdGVTZXJ2aWNlIHtcbiAgICBwdWJsaWMgbWVudVN0YXRlID0ge1xuICAgICAgICBpc1Zpc2libGU6IDxib29sZWFuPmZhbHNlLFxuICAgICAgICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNWaXNpYmxlID09PSB0cnVlID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHVibGljIGRyb3Bkb3duU3RhdGU6IE5nMkRyb3Bkb3duU3RhdGUgPSBuZXcgTmcyRHJvcGRvd25TdGF0ZSgpO1xufVxuIiwiaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgSW5wdXQsXG4gICAgUmVuZGVyZXIsXG4gICAgRWxlbWVudFJlZixcbiAgICBPbkRlc3Ryb3lcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IERyb3Bkb3duU3RhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHJvcGRvd24tc3RhdGUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbmcyLW1lbnUtaXRlbScsXG4gICAgc3R5bGVzOiBbYC5uZzItbWVudS1pdGVte2ZvbnQtZmFtaWx5OlJvYm90byxcIkhlbHZldGljYSBOZXVlXCIsSGVsdmV0aWNhLEFyaWFsO2JhY2tncm91bmQ6I2ZmZjtjb2xvcjpyZ2JhKDAsMCwwLC44Nyk7Y3Vyc29yOnBvaW50ZXI7Zm9udC1zaXplOi45ZW07dGV4dC10cmFuc2Zvcm06bm9uZTtmb250LXdlaWdodDo0MDA7bGV0dGVyLXNwYWNpbmc6LjAzZW07aGVpZ2h0OjQ4cHg7bGluZS1oZWlnaHQ6NDhweDtwYWRkaW5nOi4zZW0gMS4yNXJlbTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC4yNXN9Lm5nMi1tZW51LWl0ZW0tLXNlbGVjdGVke2JhY2tncm91bmQ6cmdiYSgxNTgsMTU4LDE1OCwuMik7b3V0bGluZTowfS5uZzItbWVudS1pdGVtOmZvY3Vze291dGxpbmU6MH0ubmcyLW1lbnUtaXRlbTphY3RpdmV7YmFja2dyb3VuZDpyZ2JhKDE1OCwxNTgsMTU4LC40KX06aG9zdChuZzItbWVudS1pdGVtKSAvZGVlcC8gW25nMi1tZW51LWl0ZW0taWNvbl17dmVydGljYWwtYWxpZ246bWlkZGxlO2ZvbnQtc2l6ZToyOHB4O3dpZHRoOjEuNWVtO2hlaWdodDozMHB4O2NvbG9yOnJnYmEoMCwwLDAsLjQ0KX1gXSxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgY2xhc3M9J25nMi1tZW51LWl0ZW0nXG4gICAgIHJvbGU9XCJidXR0b25cIlxuICAgICB0YWJpbmRleD1cIjBcIlxuICAgICBbY2xhc3MubmcyLW1lbnUtaXRlbS0tc2VsZWN0ZWRdPVwiaXNTZWxlY3RlZFwiXG4gICAgIChrZXlkb3duLmVudGVyKT1cImNsaWNrKClcIlxuICAgICAoY2xpY2spPVwiY2xpY2soKVwiXG4gICAgIChtb3VzZW92ZXIpPVwic2VsZWN0KClcIj5cbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuPC9kaXY+XG5gXG59KVxuZXhwb3J0IGNsYXNzIE5nMk1lbnVJdGVtIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgICAvKipcbiAgICAgKiBAcHJldmVudENsb3NlXG4gICAgICogQGRlc2MgaWYgdHJ1ZSwgY2xpY2tpbmcgb24gdGhlIGl0ZW0gd29uJ3QgY2xvc2UgdGhlIGRyb3Bkb3duXG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIHByZXZlbnRDbG9zZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAZGVzYyBhbnkgdmFsdWUgYXNzb2NpYXRlZCB0byB0aGUgaXRlbVxuICAgICAqL1xuICAgIEBJbnB1dCgpIHB1YmxpYyB2YWx1ZTogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdGF0ZTogRHJvcGRvd25TdGF0ZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyKSB7fVxuXG4gICAgcHVibGljIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXRlLmRyb3Bkb3duU3RhdGUub25JdGVtRGVzdHJveWVkLmVtaXQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgaXNTZWxlY3RlZFxuICAgICAqIEBkZXNjIHJldHVybnMgY3VycmVudCBzZWxlY3RlZCBpdGVtXG4gICAgICovXG4gICAgcHVibGljIGdldCBpc1NlbGVjdGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcyA9PT0gdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLnNlbGVjdGVkSXRlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBjbGlja1xuICAgICAqIEBkZXNjIGVtaXRzIHNlbGVjdCBldmVudFxuICAgICAqL1xuICAgIHB1YmxpYyBzZWxlY3QoJGV2ZW50Pyk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXRlLmRyb3Bkb3duU3RhdGUuc2VsZWN0KHRoaXMsIHRydWUpO1xuXG4gICAgICAgIGlmICgkZXZlbnQpIHtcbiAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgY2xpY2tcbiAgICAgKiBAZGVzYyBlbWl0cyBjbGljayBldmVudFxuICAgICAqL1xuICAgIHB1YmxpYyBjbGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLm9uSXRlbUNsaWNrZWQuZW1pdCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBmb2N1c1xuICAgICAqL1xuICAgIHB1YmxpYyBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5pbnZva2VFbGVtZW50TWV0aG9kKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LmNoaWxkcmVuWzBdLCAnZm9jdXMnKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBFbGVtZW50UmVmLFxuICAgIFJlbmRlcmVyLFxuICAgIENvbnRlbnRDaGlsZHJlbixcbiAgICBRdWVyeUxpc3QsXG4gICAgSW5wdXRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7XG4gICAgdHJpZ2dlcixcbiAgICBzdHlsZSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIGFuaW1hdGUsXG4gICAga2V5ZnJhbWVzLFxuICAgIHN0YXRlXG59IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuXG5pbXBvcnQgeyBBQ1RJT05TLCBhcnJvd0tleXNIYW5kbGVyIH0gZnJvbSAnLi9hY3Rpb25zJztcblxuaW1wb3J0IHsgTmcyTWVudUl0ZW0gfSBmcm9tICcuLi9tZW51LWl0ZW0vbmcyLW1lbnUtaXRlbSc7XG5pbXBvcnQgeyBEcm9wZG93blN0YXRlU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2Ryb3Bkb3duLXN0YXRlLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ25nMi1kcm9wZG93bi1tZW51JyxcbiAgICBzdHlsZXM6IFtgOmhvc3R7ZGlzcGxheTpibG9ja30ubmcyLWRyb3Bkb3duLW1lbnV7b3ZlcmZsb3cteTphdXRvO2JveC1zaGFkb3c6MCAxcHggMnB4IDAgcmdiYSgwLDAsMCwuMyk7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzouNWVtIDA7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6MXB4O21heC1oZWlnaHQ6NDAwcHg7d2lkdGg6MjYwcHg7bWluLWhlaWdodDowO2Rpc3BsYXk6YmxvY2t9Lm5nMi1kcm9wZG93bi1tZW51Lm5nMi1kcm9wZG93bi1tZW51LS1pbnNpZGUtZWxlbWVudHtwb3NpdGlvbjpmaXhlZH0ubmcyLWRyb3Bkb3duLW1lbnUubmcyLWRyb3Bkb3duLW1lbnUtLXdpZHRoLS0ye3dpZHRoOjIwMHB4fS5uZzItZHJvcGRvd24tbWVudS5uZzItZHJvcGRvd24tbWVudS0td2lkdGgtLTR7d2lkdGg6MjYwcHh9Lm5nMi1kcm9wZG93bi1tZW51Lm5nMi1kcm9wZG93bi1tZW51LS13aWR0aC0tNnt3aWR0aDozMjBweH0ubmcyLWRyb3Bkb3duLWJhY2tkcm9we3Bvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6MTtvdmVyZmxvdzpoaWRkZW59Omhvc3QgL2RlZXAvIC5uZzItbWVudS1kaXZpZGVye2hlaWdodDoxcHg7bWluLWhlaWdodDoxcHg7bWF4LWhlaWdodDoxcHg7d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6I2Y5ZjlmOX1gXSxcbiAgICB0ZW1wbGF0ZTogYDwhLS0gTUVOVSAtLT5cbjxkaXYgY2xhc3M9J25nMi1kcm9wZG93bi1tZW51IG5nMi1kcm9wZG93bi1tZW51LS0td2lkdGgtLXt7IHdpZHRoIH19J1xuICAgICBbY2xhc3MubmcyLWRyb3Bkb3duLW1lbnUtLWluc2lkZS1lbGVtZW50XT1cIiFhcHBlbmRUb0JvZHlcIlxuICAgICBbY2xhc3MubmcyLWRyb3Bkb3duLW1lbnUtLW9wZW5dPVwic3RhdGUubWVudVN0YXRlLmlzVmlzaWJsZVwiXG4gICAgIFtzdHlsZS56LWluZGV4XT1cInpJbmRleFwiXG4gICAgIFtAZmFkZV09XCJzdGF0ZS5tZW51U3RhdGUudG9TdHJpbmcoKVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmcyLWRyb3Bkb3duLW1lbnVfX29wdGlvbnMtY29udGFpbmVyXCJcbiAgICAgICAgICAgICBbQG9wYWNpdHldPVwic3RhdGUubWVudVN0YXRlLnRvU3RyaW5nKClcIj5cbiAgICAgICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICAgICAgPC9kaXY+XG48L2Rpdj5cblxuPCEtLSBCQUNLRFJPUCAtLT5cbjxkaXYgY2xhc3M9XCJuZzItZHJvcGRvd24tYmFja2Ryb3BcIiAqbmdJZj1cInN0YXRlLm1lbnVTdGF0ZS5pc1Zpc2libGVcIiAoY2xpY2spPVwiaGlkZSgpXCI+PC9kaXY+XG5gLFxuICAgIGFuaW1hdGlvbnM6IFtcbiAgICAgICAgdHJpZ2dlcignZmFkZScsIFtcbiAgICAgICAgICAgIHN0YXRlKCd2aXNpYmxlJywgc3R5bGUoXG4gICAgICAgICAgICAgICAge2Rpc3BsYXk6ICdibG9jaycsIG9wYWNpdHk6IDEsIGhlaWdodDogJyonLCB3aWR0aDogJyonfVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBzdGF0ZSgnaGlkZGVuJywgc3R5bGUoXG4gICAgICAgICAgICAgICAge2Rpc3BsYXk6ICdub25lJywgb3BhY2l0eTogMCwgb3ZlcmZsb3c6ICdoaWRkZW4nLCBoZWlnaHQ6IDAsIHdpZHRoOiAwfVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCdoaWRkZW4gPT4gdmlzaWJsZScsIFtcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcyNTBtcyBlYXNlLWluJyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUoe29wYWNpdHk6IDEsIGhlaWdodDogJyonLCB3aWR0aDogJyonfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHRyYW5zaXRpb24oJ3Zpc2libGUgPT4gaGlkZGVuJywgW1xuICAgICAgICAgICAgICAgIGFuaW1hdGUoJzM1MG1zIGVhc2Utb3V0JyxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUoe29wYWNpdHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF0pXG4gICAgICAgIF0pLFxuICAgICAgICB0cmlnZ2VyKCdvcGFjaXR5JywgW1xuICAgICAgICAgICAgdHJhbnNpdGlvbignaGlkZGVuID0+IHZpc2libGUnLCBbXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnNDUwbXMgZWFzZS1pbicsIGtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKHtvcGFjaXR5OiAwLCBvZmZzZXQ6IDB9KSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUoe29wYWNpdHk6IDEsIG9mZnNldDogMX0pLFxuICAgICAgICAgICAgICAgIF0pKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICB0cmFuc2l0aW9uKCd2aXNpYmxlID0+IGhpZGRlbicsIFtcbiAgICAgICAgICAgICAgICBhbmltYXRlKCcyNTBtcyBlYXNlLW91dCcsIGtleWZyYW1lcyhbXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlKHtvcGFjaXR5OiAxLCBvZmZzZXQ6IDB9KSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUoe29wYWNpdHk6IDAuNSwgb2Zmc2V0OiAwLjN9KSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUoe29wYWNpdHk6IDAsIG9mZnNldDogMX0pLFxuICAgICAgICAgICAgICAgIF0pKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXSlcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIE5nMkRyb3Bkb3duTWVudSB7XG4gICAgLyoqXG4gICAgICogQG5hbWUgd2lkdGhcbiAgICAgKi9cbiAgICBASW5wdXQoKSBwdWJsaWMgd2lkdGg6IG51bWJlciA9IDQ7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gaWYgc2V0IHRvIHRydWUsIHRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBkcm9wZG93biB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZm9jdXNlZFxuICAgICAqIEBuYW1lIGZvY3VzRmlyc3RFbGVtZW50XG4gICAgICovXG4gICAgQElucHV0KCkgcHVibGljIGZvY3VzRmlyc3RFbGVtZW50OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBzZXRzIGRyb3Bkb3duIG9mZnNldCBmcm9tIHRoZSBidXR0b25cbiAgICAgKiBAbmFtZSBvZmZzZXQge3N0cmluZ30gZm9sbG93IGZvcm1hdCAnPG51bWJlcj4gPG51bWJlcj4nIGV4LiAnMCAyMCdcbiAgICAgKi9cbiAgICBASW5wdXQoKSBwdWJsaWMgb2Zmc2V0OiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBhcHBlbmRUb0JvZHlcbiAgICAgKi9cbiAgICBASW5wdXQoKSBwdWJsaWMgYXBwZW5kVG9Cb2R5OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHpJbmRleFxuICAgICAqL1xuICAgIEBJbnB1dCgpIHB1YmxpYyB6SW5kZXggPSAxMDAwO1xuXG4gICAgLyoqXG4gICAgICogQG5hbWUgaXRlbXNcbiAgICAgKi9cbiAgICBAQ29udGVudENoaWxkcmVuKE5nMk1lbnVJdGVtKSBwdWJsaWMgaXRlbXM6IFF1ZXJ5TGlzdDxOZzJNZW51SXRlbT47XG5cbiAgICBwcml2YXRlIHBvc2l0aW9uOiBDbGllbnRSZWN0O1xuXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnMgPSB7XG4gICAgICAgIGFycm93SGFuZGxlcjogdW5kZWZpbmVkLFxuICAgICAgICBoYW5kbGVLZXlwcmVzczogdW5kZWZpbmVkXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGF0ZTogRHJvcGRvd25TdGF0ZVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyKSB7fVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgc2hvd1xuICAgICAqIEBzaG93cyBtZW51IGFuZCBzZWxlY3RzIGZpcnN0IGl0ZW1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2hvdyhwb3NpdGlvbj86IENsaWVudFJlY3QsIGR5bmFtaWMgPSB0cnVlKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRjID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCB3ZCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5tZW51U3RhdGUuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAvLyBzZXR0aW5nIGhhbmRsZXJzXG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5oYW5kbGVLZXlwcmVzcyA9IHRoaXMucmVuZGVyZXIubGlzdGVuKGRjLmJvZHksICdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlwcmVzcy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmFycm93SGFuZGxlciA9IHRoaXMucmVuZGVyZXIubGlzdGVuKHdkLCAna2V5ZG93bicsIGFycm93S2V5c0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHN0YXRlXG4gICAgICAgIHRoaXMuc3RhdGUubWVudVN0YXRlLmlzVmlzaWJsZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKHBvc2l0aW9uLCBkeW5hbWljKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIGhpZGVcbiAgICAgKiBAZGVzYyBoaWRlcyBtZW51XG4gICAgICovXG4gICAgcHVibGljIGhpZGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhdGUubWVudVN0YXRlLmlzVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIC8vIHJlc2V0IHNlbGVjdGVkIGl0ZW0gc3RhdGVcbiAgICAgICAgdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLnVuc2VsZWN0KCk7XG5cbiAgICAgICAgLy8gY2FsbCBmdW5jdGlvbiB0byB1bmxpc3RlblxuICAgICAgICB0aGlzLmxpc3RlbmVycy5hcnJvd0hhbmRsZXIgPyB0aGlzLmxpc3RlbmVycy5hcnJvd0hhbmRsZXIoKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuaGFuZGxlS2V5cHJlc3MgPyB0aGlzLmxpc3RlbmVycy5oYW5kbGVLZXlwcmVzcygpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHVwZGF0ZVBvc2l0aW9uXG4gICAgICogQGRlc2MgdXBkYXRlcyB0aGUgbWVudSBwb3NpdGlvbiBldmVyeSB0aW1lIGl0IGlzIHRvZ2dsZWRcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24ge0NsaWVudFJlY3R9XG4gICAgICogQHBhcmFtIGR5bmFtaWMge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZVBvc2l0aW9uKHBvc2l0aW9uOiBDbGllbnRSZWN0LCBkeW5hbWljOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy51cGRhdGVPbkNoYW5nZShkeW5hbWljKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBoYW5kbGVLZXlwcmVzc1xuICAgICAqIEBkZXNjIGV4ZWN1dGVzIGZ1bmN0aW9ucyBvbiBrZXlQcmVzcyBiYXNlZCBvbiB0aGUga2V5IHByZXNzZWRcbiAgICAgKiBAcGFyYW0gJGV2ZW50XG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUtleXByZXNzKCRldmVudCk6IHZvaWQge1xuICAgICAgICBjb25zdCBrZXkgPSAkZXZlbnQua2V5Q29kZTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zLnRvQXJyYXkoKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBpdGVtcy5pbmRleE9mKHRoaXMuc3RhdGUuZHJvcGRvd25TdGF0ZS5zZWxlY3RlZEl0ZW0pO1xuXG4gICAgICAgIGlmICghQUNUSU9OUy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBBQ1RJT05TW2tleV0uY2FsbCh0aGlzLCBpbmRleCwgaXRlbXMsIHRoaXMuc3RhdGUuZHJvcGRvd25TdGF0ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgZ2V0TWVudUVsZW1lbnRcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldE1lbnVFbGVtZW50KCk6IEVsZW1lbnQge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuY2hpbGRyZW5bMF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG5hbWUgY2FsY1Bvc2l0aW9uT2Zmc2V0XG4gICAgICogQHBhcmFtIHBvc2l0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjUG9zaXRpb25PZmZzZXQocG9zaXRpb24pOiB7IHRvcDogc3RyaW5nLCBsZWZ0OiBzdHJpbmcgfSB7XG4gICAgICAgIGNvbnN0IHdkID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGRjID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmICghd2QgfHwgIWRjIHx8ICFwb3NpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0TWVudUVsZW1lbnQoKTtcbiAgICAgICAgY29uc3Qgc3VwcG9ydFBhZ2VPZmZzZXQgPSB3ZC5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBpc0NTUzFDb21wYXQgPSAoKGRjLmNvbXBhdE1vZGUgfHwgJycpID09PSAnQ1NTMUNvbXBhdCcpO1xuXG4gICAgICAgIGNvbnN0IHggPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdkLnBhZ2VYT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID9cbiAgICAgICAgICAgIGRjLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IDogZGMuYm9keS5zY3JvbGxMZWZ0O1xuXG4gICAgICAgIGNvbnN0IHkgPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdkLnBhZ2VZT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID9cbiAgICAgICAgICAgIGRjLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkYy5ib2R5LnNjcm9sbFRvcDtcblxuICAgICAgICBsZXQgeyB0b3AsIGxlZnQgfSA9IHRoaXMuYXBwbHlPZmZzZXQoXG4gICAgICAgICAgICBgJHtwb3NpdGlvbi50b3AgKyAodGhpcy5hcHBlbmRUb0JvZHkgPyB5IC0gMTUgOiAwKX1weGAsXG4gICAgICAgICAgICBgJHtwb3NpdGlvbi5sZWZ0ICsgeCAtIDV9cHhgXG4gICAgICAgICk7XG5cbiAgICAgICAgY29uc3QgY2xpZW50V2lkdGggPSBlbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICBjb25zdCBjbGllbnRIZWlnaHQgPSBlbGVtZW50LmNsaWVudEhlaWdodDtcblxuICAgICAgICBjb25zdCBtYXJnaW5Gcm9tQm90dG9tID0gcGFyc2VJbnQodG9wKSArIGNsaWVudEhlaWdodCArICh0aGlzLmFwcGVuZFRvQm9keSA/IDAgOiB5IC0gMTUpO1xuICAgICAgICBjb25zdCBtYXJnaW5Gcm9tUmlnaHQgPSBwYXJzZUludChsZWZ0KSArIGNsaWVudFdpZHRoO1xuXG4gICAgICAgIGNvbnN0IHdpbmRvd1Njcm9sbEhlaWdodCA9IHdkLmlubmVySGVpZ2h0ICsgd2Quc2Nyb2xsWTtcbiAgICAgICAgY29uc3Qgd2luZG93U2Nyb2xsV2lkdGggPSB3ZC5pbm5lcldpZHRoICsgd2Quc2Nyb2xsWDtcblxuICAgICAgICBpZiAobWFyZ2luRnJvbUJvdHRvbSA+PSB3aW5kb3dTY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgIHRvcCA9IGAke3BhcnNlSW50KHRvcC5yZXBsYWNlKCdweCcsICcnKSkgLSBjbGllbnRIZWlnaHR9cHhgO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hcmdpbkZyb21SaWdodCA+PSB3aW5kb3dTY3JvbGxXaWR0aCkge1xuICAgICAgICAgICAgY29uc3QgbWFyZ2luUmlnaHQgPSBtYXJnaW5Gcm9tUmlnaHQgLSB3aW5kb3dTY3JvbGxXaWR0aCArIDMwO1xuICAgICAgICAgICAgbGVmdCA9IGAke3BhcnNlSW50KGxlZnQucmVwbGFjZSgncHgnLCAnJykpIC0gbWFyZ2luUmlnaHR9cHhgO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgdG9wLCBsZWZ0IH07XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhcHBseU9mZnNldCh0b3A6IHN0cmluZywgbGVmdDogc3RyaW5nKTogeyB0b3A6IHN0cmluZywgbGVmdDogc3RyaW5nIH0ge1xuICAgICAgICBpZiAoIXRoaXMub2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4geyB0b3AsIGxlZnQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMub2Zmc2V0LnNwbGl0KCcgJyk7XG5cbiAgICAgICAgaWYgKCFvZmZzZXRbMV0pIHtcbiAgICAgICAgICAgIG9mZnNldFsxXSA9ICcwJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRvcCA9IGAke3BhcnNlSW50KHRvcC5yZXBsYWNlKCdweCcsICcnKSkgKyBwYXJzZUludChvZmZzZXRbMF0pfXB4YDtcbiAgICAgICAgbGVmdCA9IGAke3BhcnNlSW50KGxlZnQucmVwbGFjZSgncHgnLCAnJykpICsgcGFyc2VJbnQob2Zmc2V0WzFdKX1weGA7XG5cbiAgICAgICAgcmV0dXJuIHsgdG9wLCBsZWZ0IH07XG4gICAgfVxuXG4gICAgcHVibGljIG5nT25Jbml0KCkge1xuICAgICAgICBjb25zdCBkYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudCA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgbWVudSBlbGVtZW50IHRvIHRoZSBib2R5XG4gICAgICAgICAgICBkYy5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVPbkNoYW5nZShkeW5hbWljID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5nZXRNZW51RWxlbWVudCgpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuY2FsY1Bvc2l0aW9uT2Zmc2V0KHRoaXMucG9zaXRpb24pO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgJ3RvcCcsIHBvc2l0aW9uLnRvcC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudFN0eWxlKGVsZW1lbnQsICdsZWZ0JywgcG9zaXRpb24ubGVmdC50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNlbGVjdCBmaXJzdCBpdGVtIHVubGVzcyB1c2VyIGRpc2FibGVkIHRoaXMgb3B0aW9uXG4gICAgICAgIGlmICh0aGlzLmZvY3VzRmlyc3RFbGVtZW50ICYmXG4gICAgICAgICAgICB0aGlzLml0ZW1zLmZpcnN0ICYmXG4gICAgICAgICAgICAhdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLnNlbGVjdCh0aGlzLml0ZW1zLmZpcnN0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgZWxlbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW0pO1xuXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmVycy5oYW5kbGVLZXlwcmVzcykge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuaGFuZGxlS2V5cHJlc3MoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7XG4gICAgSG9zdExpc3RlbmVyLFxuICAgIENvbXBvbmVudCxcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgT3V0cHV0LFxuICAgIEV2ZW50RW1pdHRlcixcbiAgICBJbnB1dFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgTmcyRHJvcGRvd25CdXR0b24gfSBmcm9tICcuLi9idXR0b24vbmcyLWRyb3Bkb3duLWJ1dHRvbic7XG5pbXBvcnQgeyBOZzJEcm9wZG93bk1lbnUgfSBmcm9tICcuLi9tZW51L25nMi1kcm9wZG93bi1tZW51JztcbmltcG9ydCB7IERyb3Bkb3duU3RhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHJvcGRvd24tc3RhdGUuc2VydmljZSc7XG5pbXBvcnQgeyBOZzJNZW51SXRlbSB9IGZyb20gJy4uL21lbnUtaXRlbS9uZzItbWVudS1pdGVtJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICduZzItZHJvcGRvd24nLFxuICAgIHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cIm5nMi1kcm9wZG93bi1jb250YWluZXJcIj5cbiAgICA8bmctY29udGVudCBzZWxlY3Q9XCJuZzItZHJvcGRvd24tYnV0dG9uXCI+PC9uZy1jb250ZW50PlxuICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm5nMi1kcm9wZG93bi1tZW51XCI+PC9uZy1jb250ZW50PlxuPC9kaXY+XG5gLFxuICAgIHByb3ZpZGVyczogWyBEcm9wZG93blN0YXRlU2VydmljZSBdXG59KVxuZXhwb3J0IGNsYXNzIE5nMkRyb3Bkb3duIHtcbiAgICAvLyBnZXQgY2hpbGRyZW4gY29tcG9uZW50c1xuICAgIEBDb250ZW50Q2hpbGQoTmcyRHJvcGRvd25CdXR0b24pIHB1YmxpYyBidXR0b246IE5nMkRyb3Bkb3duQnV0dG9uO1xuICAgIEBDb250ZW50Q2hpbGQoTmcyRHJvcGRvd25NZW51KSBwdWJsaWMgbWVudTogTmcyRHJvcGRvd25NZW51O1xuXG4gICAgQElucHV0KCkgcHVibGljIGR5bmFtaWNVcGRhdGUgPSB0cnVlO1xuXG4gICAgLy8gb3V0cHV0c1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgb25JdGVtQ2xpY2tlZDogRXZlbnRFbWl0dGVyPHN0cmluZz4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcbiAgICBAT3V0cHV0KCkgcHVibGljIG9uSXRlbVNlbGVjdGVkOiBFdmVudEVtaXR0ZXI8c3RyaW5nPiA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuICAgIEBPdXRwdXQoKSBwdWJsaWMgb25TaG93OiBFdmVudEVtaXR0ZXI8TmcyRHJvcGRvd24+ID0gbmV3IEV2ZW50RW1pdHRlcjxOZzJEcm9wZG93bj4oKTtcbiAgICBAT3V0cHV0KCkgcHVibGljIG9uSGlkZTogRXZlbnRFbWl0dGVyPE5nMkRyb3Bkb3duPiA9IG5ldyBFdmVudEVtaXR0ZXI8TmcyRHJvcGRvd24+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXRlOiBEcm9wZG93blN0YXRlU2VydmljZSkge31cblxuICAgIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLm9uSXRlbUNsaWNrZWQuc3Vic2NyaWJlKGl0ZW0gPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkl0ZW1DbGlja2VkLmVtaXQoaXRlbSk7XG5cbiAgICAgICAgICAgIGlmIChpdGVtLnByZXZlbnRDbG9zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oaWRlLmNhbGwodGhpcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLmJ1dHRvbikge1xuICAgICAgICAgICAgdGhpcy5idXR0b24ub25NZW51VG9nZ2xlZC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTWVudSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0YXRlLmRyb3Bkb3duU3RhdGUub25JdGVtU2VsZWN0ZWQuc3Vic2NyaWJlKGl0ZW0gPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkl0ZW1TZWxlY3RlZC5lbWl0KGl0ZW0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0YXRlLmRyb3Bkb3duU3RhdGUub25JdGVtRGVzdHJveWVkLnN1YnNjcmliZSgoaXRlbTogTmcyTWVudUl0ZW0pID0+IHtcbiAgICAgICAgICAgIGxldCBuZXdTZWxlY3RlZEl0ZW06IE5nMk1lbnVJdGVtIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLm1lbnUuaXRlbXMudG9BcnJheSgpO1xuXG4gICAgICAgICAgICBpZiAoaXRlbSAhPT0gdGhpcy5zdGF0ZS5kcm9wZG93blN0YXRlLnNlbGVjdGVkSXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubWVudS5mb2N1c0ZpcnN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkSXRlbSA9IGl0ZW0gPT09IGl0ZW1zWzBdICYmIGl0ZW1zLmxlbmd0aCA+IDEgPyBpdGVtc1sxXSA6IGl0ZW1zWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmRyb3Bkb3duU3RhdGUuc2VsZWN0KG5ld1NlbGVjdGVkSXRlbSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBuYW1lIHRvZ2dsZU1lbnVcbiAgICAgKiBAZGVzYyB0b2dnbGVzIG1lbnUgdmlzaWJpbGl0eVxuICAgICAqL1xuICAgIHB1YmxpYyB0b2dnbGVNZW51KHBvc2l0aW9uID0gdGhpcy5idXR0b24uZ2V0UG9zaXRpb24oKSk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXRlLm1lbnVTdGF0ZS5pc1Zpc2libGUgPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogLSBoaWRlcyBkcm9wZG93blxuICAgICAqIEBuYW1lIGhpZGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGlkZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZW51LmhpZGUoKTtcbiAgICAgICAgdGhpcy5vbkhpZGUuZW1pdCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAtIHNob3dzIGRyb3Bkb3duXG4gICAgICogQG5hbWUgc2hvd1xuICAgICAqIEBwYXJhbSBwb3NpdGlvblxuICAgICAqL1xuICAgIHB1YmxpYyBzaG93KHBvc2l0aW9uID0gdGhpcy5idXR0b24uZ2V0UG9zaXRpb24oKSk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lbnUuc2hvdyhwb3NpdGlvbiwgdGhpcy5keW5hbWljVXBkYXRlKTtcbiAgICAgICAgdGhpcy5vblNob3cuZW1pdCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAbmFtZSBzY3JvbGxMaXN0ZW5lclxuICAgICAqL1xuICAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpzY3JvbGwnKVxuICAgIHB1YmxpYyBzY3JvbGxMaXN0ZW5lcigpIHtcbiAgICAgICAgaWYgKHRoaXMuYnV0dG9uICYmIHRoaXMuZHluYW1pY1VwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5tZW51LnVwZGF0ZVBvc2l0aW9uKHRoaXMuYnV0dG9uLmdldFBvc2l0aW9uKCksIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTmcyRHJvcGRvd24gfSBmcm9tICcuL2NvbXBvbmVudHMvZHJvcGRvd24vbmcyLWRyb3Bkb3duJztcbmltcG9ydCB7IE5nMkRyb3Bkb3duTWVudSB9IGZyb20gJy4vY29tcG9uZW50cy9tZW51L25nMi1kcm9wZG93bi1tZW51JztcbmltcG9ydCB7IE5nMkRyb3Bkb3duQnV0dG9uIH0gZnJvbSAnLi9jb21wb25lbnRzL2J1dHRvbi9uZzItZHJvcGRvd24tYnV0dG9uJztcbmltcG9ydCB7IE5nMk1lbnVJdGVtIH0gZnJvbSAnLi9jb21wb25lbnRzL21lbnUtaXRlbS9uZzItbWVudS1pdGVtJztcblxuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBEcm9wZG93blN0YXRlU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvZHJvcGRvd24tc3RhdGUuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgZXhwb3J0czogW1xuICAgICAgICBOZzJNZW51SXRlbSxcbiAgICAgICAgTmcyRHJvcGRvd25CdXR0b24sXG4gICAgICAgIE5nMkRyb3Bkb3duTWVudSxcbiAgICAgICAgTmcyRHJvcGRvd25cbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBOZzJEcm9wZG93bixcbiAgICAgICAgTmcyTWVudUl0ZW0sXG4gICAgICAgIE5nMkRyb3Bkb3duQnV0dG9uLFxuICAgICAgICBOZzJEcm9wZG93bk1lbnUsXG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgTmcyRHJvcGRvd25Nb2R1bGUge31cblxuZXhwb3J0IHtcbiAgICBOZzJEcm9wZG93bixcbiAgICBOZzJEcm9wZG93bk1lbnUsXG4gICAgTmcyTWVudUl0ZW0sXG4gICAgTmcyRHJvcGRvd25CdXR0b24sXG4gICAgRHJvcGRvd25TdGF0ZVNlcnZpY2Vcbn1cbiJdLCJuYW1lcyI6WyJzdGF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtJQTBCSSwyQkFBb0IsT0FBbUI7UUFBbkIsWUFBTyxHQUFQLE9BQU8sQ0FBWTs2QkFIaUIsSUFBSSxZQUFZLEVBQVc7eUJBQzlDLElBQUk7S0FFRTs7Ozs7O0lBTXBDLHNDQUFVOzs7Ozs7UUFDYixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Ozs7OztJQU8zQix1Q0FBVzs7Ozs7O1FBQ2hCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMscUJBQXFCLEVBQUUsQ0FBQzs7O2dCQWpDL0QsU0FBUyxTQUFDO29CQUNQLFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLE1BQU0sRUFBRSxDQUFDLHMyQkFBbzJCLENBQUM7b0JBQzkyQixRQUFRLEVBQUUseTJCQVNiO2lCQUNBOzs7O2dCQWhCRyxVQUFVOzs7a0NBa0JULE1BQU07OEJBQ04sS0FBSzs7NEJBeEJWOzs7Ozs7O0FDSUEscUJBQU0sSUFBSSxHQUFHO0lBQ1QsU0FBUyxFQUFFLENBQUM7SUFDWixJQUFJLEVBQUUsRUFBRTtJQUNSLElBQUksRUFBRSxFQUFFO0lBQ1IsS0FBSyxFQUFFLEVBQUU7SUFDVCxNQUFNLEVBQUUsRUFBRTtDQUNiLENBQUM7Ozs7Ozs7QUFRRixxQkFBTSxZQUFZLEdBQUcsVUFBQyxLQUFhLEVBQUUsS0FBb0IsRUFBRUEsUUFBdUI7SUFDOUUsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDMUJBLFFBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUN4QztDQUNKLENBQUM7Ozs7Ozs7QUFRRixxQkFBTSxZQUFZLEdBQUcsVUFBQyxLQUFhLEVBQUUsS0FBb0IsRUFBRUEsUUFBdUI7SUFDOUUsSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFO1FBQ1hBLFFBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUN4QztDQUNKLENBQUM7Ozs7Ozs7QUFRRixxQkFBTSxXQUFXLEdBQUcsVUFBQyxLQUFhLEVBQUUsS0FBb0IsRUFBRUEsUUFBdUI7SUFDN0UsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDMUJBLFFBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUN4QztTQUFNO1FBQ0hBLFFBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2hDO0NBQ0osQ0FBQzs7Ozs7QUFFRjtJQUNJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztDQUNmO0FBQUE7Ozs7OztBQVFELHFCQUFNLGFBQWEsR0FBRyxVQUFDLEtBQWEsRUFBRSxLQUFvQixFQUFFQSxRQUF1QjtJQUMvRSxPQUFPQSxRQUFLLENBQUMsWUFBWSxHQUFHQSxRQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxHQUFHLFNBQVMsQ0FBQztDQUN0RSxDQUFDO0FBRUsscUJBQU0sT0FBTztJQUNoQixHQUFDLElBQUksQ0FBQyxTQUFTLElBQUcsV0FBVztJQUM3QixHQUFDLElBQUksQ0FBQyxJQUFJLElBQUcsWUFBWTtJQUN6QixHQUFDLElBQUksQ0FBQyxJQUFJLElBQUcsWUFBWTtJQUN6QixHQUFDLElBQUksQ0FBQyxLQUFLLElBQUcsYUFBYTtJQUMzQixHQUFDLElBQUksQ0FBQyxNQUFNLElBQUcsUUFBUTtPQUMxQixDQUFDOzs7OztBQUVGLDBCQUFpQyxLQUFLO0lBQ2xDLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtRQUN0QyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7S0FDMUI7Q0FDSjs7Ozs7OztBQzVFRCxBQUVBLElBQUE7OzhCQUN1RCxJQUFJLFlBQVksRUFBZTs2QkFDaEMsSUFBSSxZQUFZLEVBQWU7K0JBQzdCLElBQUksWUFBWSxFQUFlOzswQkFReEUsMENBQVk7Ozs7Ozs7WUFDbkIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDOzs7Ozs7Ozs7OztJQU92QixpQ0FBTTs7Ozs7O2NBQUMsSUFBNkIsRUFBRSxhQUFvQjtRQUFwQiw4QkFBQSxFQUFBLG9CQUFvQjtRQUM3RCxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQztRQUUxQixJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ3pCLE9BQU87U0FDVjtRQUVELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUViLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7Ozs7O0lBTzVCLG1DQUFROzs7Ozs7UUFDWCxJQUFJLENBQUMsYUFBYSxHQUFHLFNBQVMsQ0FBQzs7MkJBdEN2QztJQXdDQyxDQUFBOzs7Ozs7QUN4Q0Q7O3lCQUt1QjtZQUNmLFNBQVMsb0JBQVcsS0FBSyxDQUFBO1lBQ3pCLFFBQVE7OztZQUFSO2dCQUNJLE9BQU8sSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLEdBQUcsU0FBUyxHQUFHLFFBQVEsQ0FBQzthQUN6RDtTQUNKOzZCQUV3QyxJQUFJLGdCQUFnQixFQUFFOzs7Z0JBVGxFLFVBQVU7OytCQUhYOzs7Ozs7O0FDQUE7SUFxQ0kscUJBQW9CQSxRQUEyQixFQUMzQixTQUNBO1FBRkEsVUFBSyxHQUFMQSxRQUFLLENBQXNCO1FBQzNCLFlBQU8sR0FBUCxPQUFPO1FBQ1AsYUFBUSxHQUFSLFFBQVE7Ozs7OzRCQVZZLEtBQUs7S0FVSDs7OztJQUVuQyxpQ0FBVzs7OztRQUNkLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7OzBCQU83QyxtQ0FBVTs7Ozs7OztZQUNqQixPQUFPLElBQUksS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUM7Ozs7Ozs7Ozs7O0lBT25ELDRCQUFNOzs7Ozs7Y0FBQyxNQUFPO1FBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFNUMsSUFBSSxNQUFNLEVBQUU7WUFDUixNQUFNLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDekIsTUFBTSxDQUFDLGNBQWMsRUFBRSxDQUFDO1NBQzNCOzs7Ozs7O0lBT0UsMkJBQUs7Ozs7OztRQUNSLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Ozs7OztJQU0vQywyQkFBSzs7Ozs7UUFDUixJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQzs7O2dCQXBFMUYsU0FBUyxTQUFDO29CQUNQLFFBQVEsRUFBRSxlQUFlO29CQUN6QixNQUFNLEVBQUUsQ0FBQyx1bUJBQXFtQixDQUFDO29CQUMvbUIsUUFBUSxFQUFFLHFRQVNiO2lCQUNBOzs7O2dCQWZRLG9CQUFvQjtnQkFKekIsVUFBVTtnQkFEVixRQUFROzs7aUNBMEJQLEtBQUs7MEJBTUwsS0FBSzs7c0JBbkNWOzs7Ozs7O0FDQUE7SUFxSEkseUJBQW1CQSxRQUEyQixFQUMxQixTQUNBO1FBRkQsVUFBSyxHQUFMQSxRQUFLLENBQXNCO1FBQzFCLFlBQU8sR0FBUCxPQUFPO1FBQ1AsYUFBUSxHQUFSLFFBQVE7Ozs7cUJBdENJLENBQUM7Ozs7O2lDQU1ZLElBQUk7Ozs7NEJBV1QsSUFBSTs7OztzQkFLbkIsSUFBSTt5QkFTVDtZQUNoQixZQUFZLEVBQUUsU0FBUztZQUN2QixjQUFjLEVBQUUsU0FBUztTQUM1QjtLQUl5Qzs7Ozs7Ozs7SUFNbkMsOEJBQUk7Ozs7Ozs7Y0FBQyxRQUFxQixFQUFFLE9BQWM7UUFBZCx3QkFBQSxFQUFBLGNBQWM7UUFDN0MscUJBQU0sRUFBRSxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsR0FBRyxRQUFRLEdBQUcsU0FBUyxDQUFDO1FBQ2xFLHFCQUFNLEVBQUUsR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQztRQUU5RCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFOztZQUVqQyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3pHLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztTQUN2Rjs7UUFHRCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBRXRDLElBQUksUUFBUSxFQUFFO1lBQ1YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDMUM7Ozs7Ozs7SUFPRSw4QkFBSTs7Ozs7O1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQzs7UUFHdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsUUFBUSxFQUFFLENBQUM7O1FBR3BDLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLEdBQUcsU0FBUyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLEdBQUcsU0FBUyxDQUFDOzs7Ozs7Ozs7SUFTekUsd0NBQWM7Ozs7Ozs7Y0FBQyxRQUFvQixFQUFFLE9BQWdCO1FBQ3hELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7Ozs7Ozs7O0lBUTFCLHdDQUFjOzs7Ozs7Y0FBQyxNQUFNO1FBQ3hCLHFCQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQzNCLHFCQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ25DLHFCQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRW5FLElBQUksQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQzlCLE9BQU87U0FDVjtRQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQzs7Ozs7O0lBTTVELHdDQUFjOzs7OztRQUNsQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Ozs7OztJQU8xQyw0Q0FBa0I7Ozs7O2NBQUMsUUFBUTtRQUMvQixxQkFBTSxFQUFFLEdBQUcsT0FBTyxNQUFNLEtBQUssV0FBVyxHQUFHLE1BQU0sR0FBRyxTQUFTLENBQUM7UUFDOUQscUJBQU0sRUFBRSxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsR0FBRyxRQUFRLEdBQUcsU0FBUyxDQUFDO1FBRWxFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDekIsT0FBTztTQUNWO1FBRUQscUJBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QyxxQkFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUMsV0FBVyxLQUFLLFNBQVMsQ0FBQztRQUN2RCxxQkFBTSxZQUFZLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxJQUFJLEVBQUUsTUFBTSxZQUFZLENBQUMsQ0FBQztRQUU5RCxxQkFBTSxDQUFDLEdBQUcsaUJBQWlCLEdBQUcsRUFBRSxDQUFDLFdBQVcsR0FBRyxZQUFZO1lBQ3ZELEVBQUUsQ0FBQyxlQUFlLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBRXZELHFCQUFNLENBQUMsR0FBRyxpQkFBaUIsR0FBRyxFQUFFLENBQUMsV0FBVyxHQUFHLFlBQVk7WUFDdkQsRUFBRSxDQUFDLGVBQWUsQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFckQsaUhBQU0sWUFBRyxFQUFFLGNBQUksQ0FHYjtRQUVGLHFCQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ3hDLHFCQUFNLFlBQVksR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO1FBRTFDLHFCQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxZQUFZLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBQ3pGLHFCQUFNLGVBQWUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsV0FBVyxDQUFDO1FBRXJELHFCQUFNLGtCQUFrQixHQUFHLEVBQUUsQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQztRQUN2RCxxQkFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUM7UUFFckQsSUFBSSxnQkFBZ0IsSUFBSSxrQkFBa0IsRUFBRTtZQUN4QyxHQUFHLEdBQU0sUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsWUFBWSxPQUFJLENBQUM7U0FDL0Q7UUFFRCxJQUFJLGVBQWUsSUFBSSxpQkFBaUIsRUFBRTtZQUN0QyxxQkFBTSxXQUFXLEdBQUcsZUFBZSxHQUFHLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztZQUM3RCxJQUFJLEdBQU0sUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEdBQUcsV0FBVyxPQUFJLENBQUM7U0FDaEU7UUFFRCxPQUFPLEVBQUUsR0FBRyxLQUFBLEVBQUUsSUFBSSxNQUFBLEVBQUUsQ0FBQzs7Ozs7OztJQUdqQixxQ0FBVzs7Ozs7Y0FBQyxHQUFXLEVBQUUsSUFBWTtRQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNkLE9BQU8sRUFBRSxHQUFHLEtBQUEsRUFBRSxJQUFJLE1BQUEsRUFBRSxDQUFDO1NBQ3hCO1FBRUQscUJBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRXRDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDWixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQ25CO1FBRUQsR0FBRyxHQUFNLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBSSxDQUFDO1FBQ25FLElBQUksR0FBTSxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQUksQ0FBQztRQUVyRSxPQUFPLEVBQUUsR0FBRyxLQUFBLEVBQUUsSUFBSSxNQUFBLEVBQUUsQ0FBQzs7Ozs7SUFHbEIsa0NBQVE7Ozs7UUFDWCxxQkFBTSxFQUFFLEdBQUcsT0FBTyxRQUFRLEtBQUssV0FBVyxHQUFHLFFBQVEsR0FBRyxTQUFTLENBQUM7UUFDbEUsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFOztZQUVuQixFQUFFLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1NBQ25EOzs7Ozs7SUFHRSx3Q0FBYzs7OztjQUFDLE9BQWM7UUFBZCx3QkFBQSxFQUFBLGNBQWM7UUFDaEMscUJBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN0QyxxQkFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV4RCxJQUFJLFFBQVEsRUFBRTtZQUNWLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZFLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1NBQzVFOztRQUdELElBQUksSUFBSSxDQUFDLGlCQUFpQjtZQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7WUFDaEIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxZQUFZLEVBQUU7WUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQzVEOzs7OztJQUdFLHFDQUFXOzs7O1FBQ2QscUJBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWxDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUU7WUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztTQUNuQzs7O2dCQTFRUixTQUFTLFNBQUM7b0JBQ1AsUUFBUSxFQUFFLG1CQUFtQjtvQkFDN0IsTUFBTSxFQUFFLENBQUMsdXFCQUF1cUIsQ0FBQztvQkFDanJCLFFBQVEsRUFBRSwybEJBY2I7b0JBQ0csVUFBVSxFQUFFO3dCQUNSLE9BQU8sQ0FBQyxNQUFNLEVBQUU7NEJBQ1osS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQ2xCLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBQyxDQUMxRCxDQUFDOzRCQUNGLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUNqQixFQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUN6RSxDQUFDOzRCQUNGLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRTtnQ0FDNUIsT0FBTyxDQUFDLGVBQWUsRUFDbkIsS0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUMvQzs2QkFDSixDQUFDOzRCQUNGLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRTtnQ0FDNUIsT0FBTyxDQUFDLGdCQUFnQixFQUNwQixLQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQzNDOzZCQUNKLENBQUM7eUJBQ0wsQ0FBQzt3QkFDRixPQUFPLENBQUMsU0FBUyxFQUFFOzRCQUNmLFVBQVUsQ0FBQyxtQkFBbUIsRUFBRTtnQ0FDNUIsT0FBTyxDQUFDLGVBQWUsRUFBRSxTQUFTLENBQUM7b0NBQy9CLEtBQUssQ0FBQyxFQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxDQUFDO29DQUM5QixLQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUMsQ0FBQztpQ0FDakMsQ0FBQyxDQUFDOzZCQUNOLENBQUM7NEJBQ0YsVUFBVSxDQUFDLG1CQUFtQixFQUFFO2dDQUM1QixPQUFPLENBQUMsZ0JBQWdCLEVBQUUsU0FBUyxDQUFDO29DQUNoQyxLQUFLLENBQUMsRUFBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUMsQ0FBQztvQ0FDOUIsS0FBSyxDQUFDLEVBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFDLENBQUM7b0NBQ2xDLEtBQUssQ0FBQyxFQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxDQUFDO2lDQUNqQyxDQUFDLENBQUM7NkJBQ04sQ0FBQzt5QkFDTCxDQUFDO3FCQUNMO2lCQUNKOzs7O2dCQXZEUSxvQkFBb0I7Z0JBbkJ6QixVQUFVO2dCQUNWLFFBQVE7OzswQkE4RVAsS0FBSztzQ0FNTCxLQUFLOzJCQU1MLEtBQUs7aUNBS0wsS0FBSzsyQkFLTCxLQUFLOzBCQUtMLGVBQWUsU0FBQyxXQUFXOzswQkE1R2hDOzs7Ozs7O0FDQUE7SUFvQ0kscUJBQW9CQSxRQUEyQjtRQUEzQixVQUFLLEdBQUxBLFFBQUssQ0FBc0I7NkJBUmYsSUFBSTs7NkJBR21CLElBQUksWUFBWSxFQUFVOzhCQUN6QixJQUFJLFlBQVksRUFBVTtzQkFDN0IsSUFBSSxZQUFZLEVBQWU7c0JBQy9CLElBQUksWUFBWSxFQUFlO0tBRWpDOzs7O0lBRTVDLDhCQUFROzs7OztRQUNYLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsVUFBQSxJQUFJO1lBQ2pELEtBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRTlCLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRTtnQkFDbkIsT0FBTzthQUNWO1lBRUQsS0FBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSSxDQUFDLENBQUM7U0FDeEIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO2dCQUNoQyxLQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7YUFDckIsQ0FBQyxDQUFDO1NBQ047UUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFVBQUEsSUFBSTtZQUNsRCxLQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLFVBQUMsSUFBaUI7WUFDakUscUJBQUksZUFBd0MsQ0FBQztZQUM3QyxxQkFBTSxLQUFLLEdBQUcsS0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7WUFFeEMsSUFBSSxJQUFJLEtBQUssS0FBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsWUFBWSxFQUFFO2dCQUNoRCxPQUFPO2FBQ1Y7WUFFRCxJQUFJLEtBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7Z0JBQzdCLGVBQWUsR0FBRyxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDakY7WUFFRCxLQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7U0FDcEQsQ0FBQyxDQUFDOzs7Ozs7OztJQU9BLGdDQUFVOzs7Ozs7Y0FBQyxRQUFvQztRQUFwQyx5QkFBQSxFQUFBLFdBQVcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7UUFDbEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDOzs7Ozs7O0lBT2hFLDBCQUFJOzs7Ozs7UUFDUCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7Ozs7OztJQVFwQiwwQkFBSTs7Ozs7O2NBQUMsUUFBb0M7UUFBcEMseUJBQUEsRUFBQSxXQUFXLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFO1FBQzVDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Ozs7OztJQU9wQixvQ0FBYzs7Ozs7UUFDakIsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUM3RDs7O2dCQS9GUixTQUFTLFNBQUM7b0JBQ1AsUUFBUSxFQUFFLGNBQWM7b0JBQ3hCLFFBQVEsRUFBRSw0S0FJYjtvQkFDRyxTQUFTLEVBQUUsQ0FBRSxvQkFBb0IsQ0FBRTtpQkFDdEM7Ozs7Z0JBWFEsb0JBQW9COzs7MkJBY3hCLFlBQVksU0FBQyxpQkFBaUI7eUJBQzlCLFlBQVksU0FBQyxlQUFlO2tDQUU1QixLQUFLO2tDQUdMLE1BQU07bUNBQ04sTUFBTTsyQkFDTixNQUFNOzJCQUNOLE1BQU07bUNBdUVOLFlBQVksU0FBQyxlQUFlOztzQkF6R2pDOzs7Ozs7O0FDQUE7Ozs7Z0JBU0MsUUFBUSxTQUFDO29CQUNOLE9BQU8sRUFBRTt3QkFDTCxXQUFXO3dCQUNYLGlCQUFpQjt3QkFDakIsZUFBZTt3QkFDZixXQUFXO3FCQUNkO29CQUNELFlBQVksRUFBRTt3QkFDVixXQUFXO3dCQUNYLFdBQVc7d0JBQ1gsaUJBQWlCO3dCQUNqQixlQUFlO3FCQUNsQjtvQkFDRCxPQUFPLEVBQUU7d0JBQ0wsWUFBWTtxQkFDZjtpQkFDSjs7NEJBekJEOzs7Ozs7Ozs7Ozs7Ozs7In0=","import { __awaiter, __generator, __extends, __spread } from 'tslib';\nimport { Pipe, Injectable, Input, Component, EventEmitter, Output, ViewChild, ContentChildren, forwardRef, HostListener, Injector, TemplateRef, ElementRef, HostBinding, ChangeDetectorRef, Renderer2, ViewChildren, ContentChild, NgModule } from '@angular/core';\nimport { FormControl, FormGroup, NG_VALUE_ACCESSOR, ReactiveFormsModule, FormsModule, COMPOSITION_BUFFER_MODE } from '@angular/forms';\nimport { filter, first, debounceTime, map } from 'rxjs/operators';\nimport { Ng2Dropdown, Ng2DropdownModule } from 'ng2-material-dropdown';\nimport { animate, trigger, style, transition, keyframes, state } from '@angular/animations';\nimport { CommonModule } from '@angular/common';\n\nvar escape = function (s) { return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'); };\nvar HighlightPipe = /** @class */ (function () {\n    function HighlightPipe() {\n    }\n    HighlightPipe.prototype.transform = function (value, arg) {\n        if (!arg.trim()) {\n            return value;\n        }\n        try {\n            var regex = new RegExp(\"(\" + escape(arg) + \")\", 'i');\n            return value.replace(regex, '<b>$1</b>');\n        }\n        catch (e) {\n            return value;\n        }\n    };\n    return HighlightPipe;\n}());\nHighlightPipe.decorators = [\n    { type: Pipe, args: [{\n                name: 'highlight'\n            },] },\n];\nvar PLACEHOLDER = '+ Tag';\nvar SECONDARY_PLACEHOLDER = 'Enter a new tag';\nvar KEYDOWN = 'keydown';\nvar KEYUP = 'keyup';\nvar MAX_ITEMS_WARNING = 'The number of items specified was greater than the property max-items.';\nvar ACTIONS_KEYS = {\n    DELETE: 'DELETE',\n    SWITCH_PREV: 'SWITCH_PREV',\n    SWITCH_NEXT: 'SWITCH_NEXT',\n    TAB: 'TAB'\n};\nvar KEY_PRESS_ACTIONS = {\n    8: ACTIONS_KEYS.DELETE,\n    37: ACTIONS_KEYS.SWITCH_PREV,\n    39: ACTIONS_KEYS.SWITCH_NEXT,\n    9: ACTIONS_KEYS.TAB\n};\nvar DRAG_AND_DROP_KEY = 'Text';\nvar NEXT = 'NEXT';\nvar PREV = 'PREV';\nvar DragProvider = /** @class */ (function () {\n    function DragProvider() {\n        this.state = {\n            dragging: false,\n            dropping: false,\n            index: undefined\n        };\n    }\n    DragProvider.prototype.setDraggedItem = function (event, tag) {\n        event.dataTransfer.setData(DRAG_AND_DROP_KEY, JSON.stringify(tag));\n    };\n    DragProvider.prototype.getDraggedItem = function (event) {\n        var data = event.dataTransfer.getData(DRAG_AND_DROP_KEY);\n        try {\n            return (JSON.parse(data));\n        }\n        catch (_a) {\n            return;\n        }\n    };\n    DragProvider.prototype.setSender = function (sender) {\n        this.sender = sender;\n    };\n    DragProvider.prototype.setReceiver = function (receiver) {\n        this.receiver = receiver;\n    };\n    DragProvider.prototype.onTagDropped = function (tag, indexDragged, indexDropped) {\n        this.onDragEnd();\n        this.sender.onRemoveRequested(tag, indexDragged);\n        this.receiver.onAddingRequested(false, tag, indexDropped);\n    };\n    DragProvider.prototype.setState = function (state$$1) {\n        this.state = Object.assign({}, this.state, state$$1);\n    };\n    DragProvider.prototype.getState = function (key) {\n        return key ? this.state[key] : this.state;\n    };\n    DragProvider.prototype.onDragEnd = function () {\n        this.setState({\n            dragging: false,\n            dropping: false,\n            index: undefined\n        });\n    };\n    return DragProvider;\n}());\nDragProvider.decorators = [\n    { type: Injectable },\n];\nvar defaults = {\n    tagInput: ({\n        separatorKeys: [],\n        separatorKeyCodes: [],\n        maxItems: Infinity,\n        placeholder: PLACEHOLDER,\n        secondaryPlaceholder: SECONDARY_PLACEHOLDER,\n        validators: [],\n        asyncValidators: [],\n        onlyFromAutocomplete: false,\n        errorMessages: {},\n        theme: '',\n        onTextChangeDebounce: 250,\n        inputId: null,\n        inputClass: '',\n        clearOnBlur: false,\n        hideForm: false,\n        addOnBlur: false,\n        addOnPaste: false,\n        pasteSplitPattern: ',',\n        blinkIfDupe: true,\n        removable: true,\n        editable: false,\n        allowDupes: false,\n        modelAsStrings: false,\n        trimTags: true,\n        ripple: true,\n        tabIndex: '',\n        disable: false,\n        dragZone: '',\n        onRemoving: undefined,\n        onAdding: undefined,\n        displayBy: 'display',\n        identifyBy: 'value',\n        animationDuration: {\n            enter: '250ms',\n            leave: '150ms'\n        }\n    }),\n    dropdown: ({\n        displayBy: 'display',\n        identifyBy: 'value',\n        appendToBody: true,\n        offset: '50 0',\n        focusFirstElement: false,\n        showDropdownIfEmpty: false,\n        minimumTextLength: 1,\n        limitItemsTo: Infinity,\n        keepOpen: true,\n        dynamicUpdate: true,\n        zIndex: 1000,\n        matchingFn: matchingFn\n    })\n};\nfunction matchingFn(value, target) {\n    var targetValue = target[this.displayBy].toString();\n    return targetValue && targetValue\n        .toLowerCase()\n        .indexOf(value.toLowerCase()) >= 0;\n}\nvar OptionsProvider = /** @class */ (function () {\n    function OptionsProvider() {\n    }\n    OptionsProvider.prototype.setOptions = function (options) {\n        OptionsProvider.defaults.tagInput = Object.assign({}, defaults.tagInput, options.tagInput);\n        OptionsProvider.defaults.dropdown = Object.assign({}, defaults.dropdown, options.dropdown);\n    };\n    return OptionsProvider;\n}());\nOptionsProvider.defaults = defaults;\nfunction isObject(obj) {\n    return obj === Object(obj);\n}\nvar TagInputAccessor = /** @class */ (function () {\n    function TagInputAccessor() {\n        this._items = [];\n        this.displayBy = OptionsProvider.defaults.tagInput.displayBy;\n        this.identifyBy = OptionsProvider.defaults.tagInput.identifyBy;\n    }\n    Object.defineProperty(TagInputAccessor.prototype, \"items\", {\n        get: function () {\n            return this._items;\n        },\n        set: function (items) {\n            this._items = items;\n            this._onChangeCallback(this._items);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputAccessor.prototype.onTouched = function () {\n        this._onTouchedCallback();\n    };\n    TagInputAccessor.prototype.writeValue = function (items) {\n        this._items = items || [];\n    };\n    TagInputAccessor.prototype.registerOnChange = function (fn) {\n        this._onChangeCallback = fn;\n    };\n    TagInputAccessor.prototype.registerOnTouched = function (fn) {\n        this._onTouchedCallback = fn;\n    };\n    TagInputAccessor.prototype.getItemValue = function (item, fromDropdown) {\n        if (fromDropdown === void 0) { fromDropdown = false; }\n        var property = fromDropdown && this.dropdown ? this.dropdown.identifyBy : this.identifyBy;\n        return isObject(item) ? item[property] : item;\n    };\n    TagInputAccessor.prototype.getItemDisplay = function (item, fromDropdown) {\n        if (fromDropdown === void 0) { fromDropdown = false; }\n        var property = fromDropdown && this.dropdown ? this.dropdown.displayBy : this.displayBy;\n        return isObject(item) ? item[property] : item;\n    };\n    TagInputAccessor.prototype.getItemsWithout = function (index) {\n        return this.items.filter(function (item, position) { return position !== index; });\n    };\n    return TagInputAccessor;\n}());\nTagInputAccessor.propDecorators = {\n    \"displayBy\": [{ type: Input },],\n    \"identifyBy\": [{ type: Input },],\n};\nfunction listen(listenerType, action, condition) {\n    if (condition === void 0) { condition = true; }\n    if (!this.listeners.hasOwnProperty(listenerType)) {\n        throw new Error('The event entered may be wrong');\n    }\n    if (!condition) {\n        return;\n    }\n    this.listeners[listenerType].push(action);\n}\nvar TagInputForm = /** @class */ (function () {\n    function TagInputForm() {\n        this.onSubmit = new EventEmitter();\n        this.onBlur = new EventEmitter();\n        this.onFocus = new EventEmitter();\n        this.onKeyup = new EventEmitter();\n        this.onKeydown = new EventEmitter();\n        this.inputTextChange = new EventEmitter();\n        this.validators = [];\n        this.asyncValidators = [];\n        this.tabindex = '';\n        this.disabled = false;\n        this.item = new FormControl({ value: '', disabled: this.disabled });\n    }\n    Object.defineProperty(TagInputForm.prototype, \"inputText\", {\n        get: function () {\n            return this.item.value;\n        },\n        set: function (text) {\n            this.item.setValue(text);\n            this.inputTextChange.emit(text);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputForm.prototype.ngOnInit = function () {\n        this.item.setValidators(this.validators);\n        this.item.setAsyncValidators(this.asyncValidators);\n        this.form = new FormGroup({\n            item: this.item\n        });\n    };\n    TagInputForm.prototype.ngOnChanges = function (changes) {\n        if (changes[\"disabled\"] && !changes[\"disabled\"].firstChange) {\n            if (changes[\"disabled\"].currentValue) {\n                this.form.controls['item'].disable();\n            }\n            else {\n                this.form.controls['item'].enable();\n            }\n        }\n    };\n    Object.defineProperty(TagInputForm.prototype, \"value\", {\n        get: function () {\n            return (this.form.get('item'));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputForm.prototype.isInputFocused = function () {\n        var doc = typeof document !== 'undefined' ? document : undefined;\n        return doc ? doc.activeElement === this.input.nativeElement : false;\n    };\n    TagInputForm.prototype.getErrorMessages = function (messages) {\n        var _this = this;\n        return Object.keys(messages)\n            .filter(function (err) { return _this.value.hasError(err); })\n            .map(function (err) { return messages[err]; });\n    };\n    TagInputForm.prototype.hasErrors = function () {\n        var _b = this.form, dirty = _b.dirty, value = _b.value, valid = _b.valid;\n        return dirty && value.item && !valid;\n    };\n    TagInputForm.prototype.focus = function () {\n        this.input.nativeElement.focus();\n    };\n    TagInputForm.prototype.blur = function () {\n        this.input.nativeElement.blur();\n    };\n    TagInputForm.prototype.getElementPosition = function () {\n        return this.input.nativeElement.getBoundingClientRect();\n    };\n    TagInputForm.prototype.destroy = function () {\n        var input = this.input.nativeElement;\n        input.parentElement.removeChild(input);\n    };\n    TagInputForm.prototype.onKeyDown = function ($event) {\n        this.inputText = this.value.value;\n        if ($event.key === 'Enter') {\n            this.submit($event);\n            this.inputText = '';\n        }\n        return this.onKeydown.emit($event);\n    };\n    TagInputForm.prototype.onKeyUp = function ($event) {\n        this.inputText = this.value.value;\n        return this.onKeyup.emit($event);\n    };\n    TagInputForm.prototype.submit = function ($event) {\n        $event.preventDefault();\n        if (this.form.valid) {\n            this.onSubmit.emit($event);\n        }\n    };\n    return TagInputForm;\n}());\nTagInputForm.decorators = [\n    { type: Component, args: [{\n                selector: 'tag-input-form',\n                styles: [\".dark tag:focus{-webkit-box-shadow:0 0 0 1px #323232;box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info input{border:none;-webkit-box-shadow:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info .form-control input::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info .form-control input:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info .form-control input::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info input:focus{border:none;-webkit-box-shadow:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused{-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.4);box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid{-webkit-box-shadow:inset 0 1px 1px #d9534f;box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-webkit-transition:all .25s;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.ng2-tag-input.ng2-tag-input--focused{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading{border:none}.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.ng2-tag-input form{margin:.1em 0}.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.minimal.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.dark.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap3-info.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:4px;cursor:text;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input form{margin:.1em 0}.bootstrap3-info.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.error-message{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap .error-message{color:#d9534f}.ng2-tag-input__text-input{display:inline;vertical-align:middle;border:none;padding:0 .5rem;height:38px;font-size:1em;font-family:Roboto,\\\"Helvetica Neue\\\",sans-serif}.ng2-tag-input__text-input:focus{outline:0}.ng2-tag-input__text-input[disabled=true]{opacity:.5;background:#fff}\"],\n                template: \"<!-- form -->\\n<form (ngSubmit)=\\\"submit($event)\\\" [formGroup]=\\\"form\\\">\\n    <input #input\\n\\n           type=\\\"text\\\"\\n           class=\\\"ng2-tag-input__text-input\\\"\\n           autocomplete=\\\"off\\\"\\n           tabindex=\\\"{{ disabled ? -1 : tabindex ? tabindex : 0 }}\\\"\\n           minlength=\\\"1\\\"\\n           formControlName=\\\"item\\\"\\n\\n           [ngClass]=\\\"inputClass\\\"\\n           [attr.id]=\\\"inputId\\\"\\n           [attr.placeholder]=\\\"placeholder\\\"\\n           [attr.aria-label]=\\\"placeholder\\\"\\n           [attr.tabindex]=\\\"tabindex\\\"\\n           [attr.disabled]=\\\"disabled ? disabled : null\\\"\\n\\n           (focus)=\\\"onFocus.emit($event)\\\"\\n           (blur)=\\\"onBlur.emit($event)\\\"\\n           (keydown)=\\\"onKeyDown($event)\\\"\\n           (keyup)=\\\"onKeyUp($event)\\\"\\n    />\\n</form>\\n\"\n            },] },\n];\nTagInputForm.propDecorators = {\n    \"onSubmit\": [{ type: Output },],\n    \"onBlur\": [{ type: Output },],\n    \"onFocus\": [{ type: Output },],\n    \"onKeyup\": [{ type: Output },],\n    \"onKeydown\": [{ type: Output },],\n    \"inputTextChange\": [{ type: Output },],\n    \"placeholder\": [{ type: Input },],\n    \"validators\": [{ type: Input },],\n    \"asyncValidators\": [{ type: Input },],\n    \"inputId\": [{ type: Input },],\n    \"inputClass\": [{ type: Input },],\n    \"tabindex\": [{ type: Input },],\n    \"disabled\": [{ type: Input },],\n    \"input\": [{ type: ViewChild, args: ['input',] },],\n    \"inputText\": [{ type: Input },],\n};\nvar defaults$1 = forwardRef(function () { return OptionsProvider.defaults.dropdown; });\nvar TagInputDropdown = /** @class */ (function () {\n    function TagInputDropdown(injector) {\n        var _this = this;\n        this.injector = injector;\n        this.offset = new defaults$1().offset;\n        this.focusFirstElement = new defaults$1().focusFirstElement;\n        this.showDropdownIfEmpty = new defaults$1().showDropdownIfEmpty;\n        this.minimumTextLength = new defaults$1().minimumTextLength;\n        this.limitItemsTo = new defaults$1().limitItemsTo;\n        this.displayBy = new defaults$1().displayBy;\n        this.identifyBy = new defaults$1().identifyBy;\n        this.matchingFn = new defaults$1().matchingFn;\n        this.appendToBody = new defaults$1().appendToBody;\n        this.keepOpen = new defaults$1().keepOpen;\n        this.dynamicUpdate = new defaults$1().dynamicUpdate;\n        this.zIndex = new defaults$1().zIndex;\n        this.items = [];\n        this.tagInput = this.injector.get(TagInputComponent);\n        this._autocompleteItems = [];\n        this.show = function () {\n            var maxItemsReached = _this.tagInput.items.length === _this.tagInput.maxItems;\n            var value = _this.getFormValue();\n            var hasMinimumText = value.trim().length >= _this.minimumTextLength;\n            var position = _this.calculatePosition();\n            var items = _this.getMatchingItems(value);\n            var hasItems = items.length > 0;\n            var isHidden = _this.isVisible === false;\n            var showDropdownIfEmpty = _this.showDropdownIfEmpty && hasItems && !value;\n            var isDisabled = _this.tagInput.disable;\n            var shouldShow = isHidden && ((hasItems && hasMinimumText) || showDropdownIfEmpty);\n            var shouldHide = _this.isVisible && !hasItems;\n            if (_this.autocompleteObservable && hasMinimumText) {\n                return _this.getItemsFromObservable(value);\n            }\n            if ((!_this.showDropdownIfEmpty && !value) || maxItemsReached || isDisabled) {\n                return _this.dropdown.hide();\n            }\n            _this.setItems(items);\n            if (shouldShow) {\n                _this.dropdown.show(position);\n            }\n            else if (shouldHide) {\n                _this.hide();\n            }\n        };\n        this.requestAdding = function (item) { return __awaiter(_this, void 0, void 0, function () {\n            var tag;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        tag = this.createTagModel(item);\n                        return [4 /*yield*/, this.tagInput.onAddingRequested(true, tag).catch(function () { })];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        this.resetItems = function () {\n            _this.items = [];\n        };\n        this.getItemsFromObservable = function (text) {\n            _this.setLoadingState(true);\n            var subscribeFn = function (data) {\n                _this.setLoadingState(false)\n                    .populateItems(data);\n                _this.setItems(_this.getMatchingItems(text));\n                if (_this.items.length) {\n                    _this.dropdown.show(_this.calculatePosition());\n                }\n                else {\n                    _this.dropdown.hide();\n                }\n            };\n            _this.autocompleteObservable(text)\n                .pipe(first())\n                .subscribe(subscribeFn, function () { return _this.setLoadingState(false); });\n        };\n    }\n    Object.defineProperty(TagInputDropdown.prototype, \"autocompleteItems\", {\n        get: function () {\n            var _this = this;\n            var items = this._autocompleteItems;\n            if (!items) {\n                return [];\n            }\n            return items.map(function (item) {\n                return typeof item === 'string' ? (_b = {}, _b[_this.displayBy] = item, _b[_this.identifyBy] = item, _b) : item;\n                var _b;\n            });\n        },\n        set: function (items) {\n            this._autocompleteItems = items;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputDropdown.prototype.ngOnInit = function () {\n        var _this = this;\n        this.onItemClicked().subscribe(function (item) {\n            _this.requestAdding(item);\n        });\n        this.onHide().subscribe(this.resetItems);\n        var DEBOUNCE_TIME = 200;\n        var KEEP_OPEN = this.keepOpen;\n        this.tagInput\n            .onTextChange\n            .asObservable()\n            .pipe(debounceTime(DEBOUNCE_TIME), filter(function (value) {\n            if (KEEP_OPEN === false) {\n                return value.length > 0;\n            }\n            return true;\n        }))\n            .subscribe(this.show);\n    };\n    TagInputDropdown.prototype.updatePosition = function () {\n        var position = this.tagInput.inputForm.getElementPosition();\n        this.dropdown.menu.updatePosition(position, this.dynamicUpdate);\n    };\n    Object.defineProperty(TagInputDropdown.prototype, \"isVisible\", {\n        get: function () {\n            return this.dropdown.menu.state.menuState.isVisible;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputDropdown.prototype.onHide = function () {\n        return this.dropdown.onHide;\n    };\n    TagInputDropdown.prototype.onItemClicked = function () {\n        return this.dropdown.onItemClicked;\n    };\n    Object.defineProperty(TagInputDropdown.prototype, \"selectedItem\", {\n        get: function () {\n            return this.dropdown.menu.state.dropdownState.selectedItem;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TagInputDropdown.prototype, \"state\", {\n        get: function () {\n            return this.dropdown.menu.state;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputDropdown.prototype.hide = function () {\n        this.resetItems();\n        this.dropdown.hide();\n    };\n    TagInputDropdown.prototype.scrollListener = function () {\n        if (!this.isVisible || !this.dynamicUpdate) {\n            return;\n        }\n        this.updatePosition();\n    };\n    TagInputDropdown.prototype.onWindowBlur = function () {\n        this.dropdown.hide();\n    };\n    TagInputDropdown.prototype.getFormValue = function () {\n        var formValue = this.tagInput.formValue;\n        return formValue ? formValue.toString().trim() : '';\n    };\n    TagInputDropdown.prototype.calculatePosition = function () {\n        return this.tagInput.inputForm.getElementPosition();\n    };\n    TagInputDropdown.prototype.createTagModel = function (item) {\n        var display = typeof item.value === 'string' ? item.value : item.value[this.displayBy];\n        var value = typeof item.value === 'string' ? item.value : item.value[this.identifyBy];\n        return Object.assign({}, item.value, (_b = {}, _b[this.tagInput.displayBy] = display, _b[this.tagInput.identifyBy] = value, _b));\n        var _b;\n    };\n    TagInputDropdown.prototype.getMatchingItems = function (value) {\n        var _this = this;\n        if (!value && !this.showDropdownIfEmpty) {\n            return [];\n        }\n        var dupesAllowed = this.tagInput.allowDupes;\n        return this.autocompleteItems.filter(function (item) {\n            var hasValue = dupesAllowed ? false : _this.tagInput.tags.some(function (tag) {\n                var identifyBy = _this.tagInput.identifyBy;\n                var model = typeof tag.model === 'string' ? tag.model : tag.model[identifyBy];\n                return model === item[_this.identifyBy];\n            });\n            return _this.matchingFn(value, item) && (hasValue === false);\n        });\n    };\n    TagInputDropdown.prototype.setItems = function (items) {\n        this.items = items.slice(0, this.limitItemsTo || items.length);\n    };\n    TagInputDropdown.prototype.populateItems = function (data) {\n        var _this = this;\n        this.autocompleteItems = data.map(function (item) {\n            return typeof item === 'string' ? (_b = {}, _b[_this.displayBy] = item, _b[_this.identifyBy] = item, _b) : item;\n            var _b;\n        });\n        return this;\n    };\n    TagInputDropdown.prototype.setLoadingState = function (state$$1) {\n        this.tagInput.isLoading = state$$1;\n        return this;\n    };\n    return TagInputDropdown;\n}());\nTagInputDropdown.decorators = [\n    { type: Component, args: [{\n                selector: 'tag-input-dropdown',\n                template: \"<ng2-dropdown [dynamicUpdate]=\\\"dynamicUpdate\\\">\\n    <ng2-dropdown-menu [focusFirstElement]=\\\"focusFirstElement\\\"\\n                       [zIndex]=\\\"zIndex\\\"\\n                       [appendToBody]=\\\"appendToBody\\\"\\n                       [offset]=\\\"offset\\\">\\n        <ng2-menu-item *ngFor=\\\"let item of items; let index = index; let last = last\\\"\\n                       [value]=\\\"item\\\"\\n                       [ngSwitch]=\\\"!!templates.length\\\">\\n\\n            <span *ngSwitchCase=\\\"false\\\"\\n                  [innerHTML]=\\\"item[displayBy] | highlight : tagInput.inputForm.value.value\\\">\\n            </span>\\n\\n            <ng-template *ngSwitchDefault\\n                      [ngTemplateOutlet]=\\\"templates.first\\\"\\n                      [ngTemplateOutletContext]=\\\"{ item: item, index: index, last: last }\\\">\\n            </ng-template>\\n        </ng2-menu-item>\\n    </ng2-dropdown-menu>\\n</ng2-dropdown>\\n\"\n            },] },\n];\nTagInputDropdown.ctorParameters = function () { return [\n    { type: Injector, },\n]; };\nTagInputDropdown.propDecorators = {\n    \"dropdown\": [{ type: ViewChild, args: [Ng2Dropdown,] },],\n    \"templates\": [{ type: ContentChildren, args: [TemplateRef,] },],\n    \"offset\": [{ type: Input },],\n    \"focusFirstElement\": [{ type: Input },],\n    \"showDropdownIfEmpty\": [{ type: Input },],\n    \"autocompleteObservable\": [{ type: Input },],\n    \"minimumTextLength\": [{ type: Input },],\n    \"limitItemsTo\": [{ type: Input },],\n    \"displayBy\": [{ type: Input },],\n    \"identifyBy\": [{ type: Input },],\n    \"matchingFn\": [{ type: Input },],\n    \"appendToBody\": [{ type: Input },],\n    \"keepOpen\": [{ type: Input },],\n    \"dynamicUpdate\": [{ type: Input },],\n    \"zIndex\": [{ type: Input },],\n    \"autocompleteItems\": [{ type: Input },],\n    \"scrollListener\": [{ type: HostListener, args: ['window:scroll',] },],\n    \"onWindowBlur\": [{ type: HostListener, args: ['window:blur',] },],\n};\nvar TagRipple = /** @class */ (function () {\n    function TagRipple() {\n        this.state = 'none';\n    }\n    return TagRipple;\n}());\nTagRipple.decorators = [\n    { type: Component, args: [{\n                selector: 'tag-ripple',\n                styles: [\"\\n        :host {\\n            width: 100%;\\n            height: 100%;\\n            left: 0;\\n            overflow: hidden;\\n            position: absolute;\\n        }\\n        \\n        .tag-ripple {\\n            background: rgba(0, 0, 0, 0.1);\\n            top: 50%;\\n            left: 50%;\\n            height: 100%;\\n            transform: translate(-50%, -50%);\\n            position: absolute;\\n        }\\n    \"],\n                template: \"\\n        <div class=\\\"tag-ripple\\\" [@ink]=\\\"state\\\"></div>\\n    \",\n                animations: [\n                    trigger('ink', [\n                        state('none', style({ width: 0, opacity: 0 })),\n                        transition('none => clicked', [\n                            animate(300, keyframes([\n                                style({ opacity: 1, offset: 0, width: '30%', borderRadius: '100%' }),\n                                style({ opacity: 1, offset: 0.5, width: '50%' }),\n                                style({ opacity: 0.5, offset: 1, width: '100%', borderRadius: '16px' })\n                            ]))\n                        ])\n                    ])\n                ]\n            },] },\n];\nTagRipple.propDecorators = {\n    \"state\": [{ type: Input },],\n};\nvar navigator = typeof window !== 'undefined' ? window.navigator : {\n    userAgent: 'Chrome',\n    vendor: 'Google Inc'\n};\nvar isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\nvar TagComponent = /** @class */ (function () {\n    function TagComponent(element, renderer, cdRef) {\n        this.element = element;\n        this.renderer = renderer;\n        this.cdRef = cdRef;\n        this.disabled = false;\n        this.onSelect = new EventEmitter();\n        this.onRemove = new EventEmitter();\n        this.onBlur = new EventEmitter();\n        this.onKeyDown = new EventEmitter();\n        this.onTagEdited = new EventEmitter();\n        this.editing = false;\n        this.rippleState = \"none\";\n    }\n    Object.defineProperty(TagComponent.prototype, \"readonly\", {\n        get: function () {\n            return typeof this.model !== \"string\" && this.model[\"readonly\"] === true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagComponent.prototype.select = function ($event) {\n        if (this.readonly || this.disabled) {\n            return;\n        }\n        if ($event) {\n            $event.stopPropagation();\n        }\n        this.focus();\n        this.onSelect.emit(this.model);\n    };\n    TagComponent.prototype.remove = function ($event) {\n        $event.stopPropagation();\n        this.onRemove.emit(this);\n    };\n    TagComponent.prototype.focus = function () {\n        this.element.nativeElement.focus();\n    };\n    TagComponent.prototype.move = function () {\n        this.moving = true;\n    };\n    TagComponent.prototype.keydown = function (event) {\n        if (this.editing) {\n            if (event.keyCode === 13) {\n                return this.disableEditMode(event);\n            }\n        }\n        else {\n            this.onKeyDown.emit({ event: event, model: this.model });\n        }\n    };\n    TagComponent.prototype.blink = function () {\n        var classList = this.element.nativeElement.classList;\n        classList.add(\"blink\");\n        setTimeout(function () { return classList.remove(\"blink\"); }, 50);\n    };\n    TagComponent.prototype.toggleEditMode = function () {\n        if (this.editable) {\n            return this.editing ? undefined : this.activateEditMode();\n        }\n    };\n    TagComponent.prototype.onBlurred = function (event) {\n        if (!this.editable) {\n            return;\n        }\n        this.disableEditMode();\n        var value = event.target.innerText;\n        var result = typeof this.model === \"string\"\n            ? value\n            : Object.assign({}, this.model, (_b = {}, _b[this.displayBy] = value, _b));\n        this.onBlur.emit(result);\n        var _b;\n    };\n    TagComponent.prototype.getDisplayValue = function (item) {\n        return typeof item === \"string\" ? item : item[this.displayBy];\n    };\n    Object.defineProperty(TagComponent.prototype, \"isRippleVisible\", {\n        get: function () {\n            return !this.readonly && !this.editing && isChrome && this.hasRipple;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagComponent.prototype.disableEditMode = function ($event) {\n        var classList = this.element.nativeElement.classList;\n        var input = this.getContentEditableText();\n        this.editing = false;\n        classList.remove(\"tag--editing\");\n        if (!input) {\n            this.setContentEditableText(this.model);\n            return;\n        }\n        this.storeNewValue(input);\n        this.cdRef.detectChanges();\n        if ($event) {\n            $event.preventDefault();\n        }\n    };\n    TagComponent.prototype.isDeleteIconVisible = function () {\n        return (!this.readonly && !this.disabled && this.removable && !this.editing);\n    };\n    TagComponent.prototype.getContentEditableText = function () {\n        var input = this.getContentEditable();\n        return input ? input.innerText.trim() : \"\";\n    };\n    TagComponent.prototype.setContentEditableText = function (model) {\n        var input = this.getContentEditable();\n        var value = this.getDisplayValue(model);\n        input.innerText = value;\n    };\n    TagComponent.prototype.activateEditMode = function () {\n        var classList = this.element.nativeElement.classList;\n        classList.add('tag--editing');\n        this.editing = true;\n    };\n    TagComponent.prototype.storeNewValue = function (input) {\n        var _this = this;\n        var exists = function (tag) {\n            return typeof tag === 'string'\n                ? tag === input\n                : tag[_this.displayBy] === input;\n        };\n        var hasId = function () {\n            return _this.model[_this.identifyBy] !== _this.model[_this.displayBy];\n        };\n        if (exists(this.model)) {\n            return;\n        }\n        var model = typeof this.model === 'string'\n            ? input\n            : (_b = {\n                    index: this.index\n                }, _b[this.identifyBy] = hasId()\n                    ? this.model[this.identifyBy]\n                    : input, _b[this.displayBy] = input, _b);\n        if (this.canAddTag(model)) {\n            this.onTagEdited.emit({ tag: model, index: this.index });\n        }\n        else {\n            this.setContentEditableText(this.model);\n        }\n        var _b;\n    };\n    TagComponent.prototype.getContentEditable = function () {\n        return this.element.nativeElement.querySelector('[contenteditable]');\n    };\n    return TagComponent;\n}());\nTagComponent.decorators = [\n    { type: Component, args: [{\n                selector: \"tag\",\n                template: \"<div (click)=\\\"select($event)\\\"\\n     (dblclick)=\\\"toggleEditMode()\\\"\\n     (mousedown)=\\\"rippleState='clicked'\\\"\\n     (mouseup)=\\\"rippleState='none'\\\"\\n     [ngSwitch]=\\\"!!template\\\"\\n     [class.disabled]=\\\"disabled\\\"\\n     [attr.tabindex]=\\\"-1\\\"\\n     [attr.aria-label]=\\\"getDisplayValue(model)\\\">\\n\\n    <div *ngSwitchCase=\\\"true\\\" [attr.contenteditable]=\\\"editing\\\">\\n        <!-- CUSTOM TEMPLATE -->\\n        <ng-template\\n            [ngTemplateOutletContext]=\\\"{ item: model, index: index }\\\"\\n            [ngTemplateOutlet]=\\\"template\\\">\\n        </ng-template>\\n    </div>\\n\\n    <div *ngSwitchCase=\\\"false\\\" class=\\\"tag-wrapper\\\">\\n        <!-- TAG NAME -->\\n        <div [attr.contenteditable]=\\\"editing\\\"\\n             [attr.title]=\\\"getDisplayValue(model)\\\"\\n             class=\\\"tag__text inline\\\"\\n             spellcheck=\\\"false\\\"\\n             (keydown.enter)=\\\"disableEditMode($event)\\\"\\n             (keydown.escape)=\\\"disableEditMode($event)\\\"\\n             (click)=\\\"editing ? $event.stopPropagation() : undefined\\\"\\n             (blur)=\\\"onBlurred($event)\\\">\\n            {{ getDisplayValue(model) }}\\n        </div>\\n\\n        <!-- 'X' BUTTON -->\\n        <delete-icon\\n            aria-label=\\\"Remove tag\\\"\\n            role=\\\"button\\\"\\n            (click)=\\\"remove($event)\\\"\\n            *ngIf=\\\"isDeleteIconVisible()\\\">\\n        </delete-icon>\\n    </div>\\n</div>\\n\\n<tag-ripple [state]=\\\"rippleState\\\"\\n            [attr.tabindex]=\\\"-1\\\"\\n            *ngIf=\\\"isRippleVisible\\\">\\n</tag-ripple>\\n\",\n                styles: [\":host,:host>div,:host>div:focus{outline:0;overflow:hidden;-webkit-transition:opacity 1s;transition:opacity 1s;z-index:1}:host{max-width:400px}:host.blink{-webkit-animation:.3s ease-in-out forwards blink;animation:.3s ease-in-out forwards blink}@-webkit-keyframes blink{0%{opacity:.3}}@keyframes blink{0%{opacity:.3}}:host .disabled{cursor:not-allowed}:host [contenteditable=true]{outline:0}.tag-wrapper{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;display:-webkit-box;display:-ms-flexbox;display:flex}.tag__text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\"]\n            },] },\n];\nTagComponent.ctorParameters = function () { return [\n    { type: ElementRef, },\n    { type: Renderer2, },\n    { type: ChangeDetectorRef, },\n]; };\nTagComponent.propDecorators = {\n    \"model\": [{ type: Input },],\n    \"removable\": [{ type: Input },],\n    \"editable\": [{ type: Input },],\n    \"template\": [{ type: Input },],\n    \"displayBy\": [{ type: Input },],\n    \"identifyBy\": [{ type: Input },],\n    \"index\": [{ type: Input },],\n    \"hasRipple\": [{ type: Input },],\n    \"disabled\": [{ type: Input },],\n    \"canAddTag\": [{ type: Input },],\n    \"onSelect\": [{ type: Output },],\n    \"onRemove\": [{ type: Output },],\n    \"onBlur\": [{ type: Output },],\n    \"onKeyDown\": [{ type: Output },],\n    \"onTagEdited\": [{ type: Output },],\n    \"moving\": [{ type: HostBinding, args: [\"class.moving\",] },],\n    \"ripple\": [{ type: ViewChild, args: [TagRipple,] },],\n    \"keydown\": [{ type: HostListener, args: [\"keydown\", [\"$event\"],] },],\n};\nvar animations = [\n    trigger('animation', [\n        state('in', style({\n            opacity: 1\n        })),\n        state('out', style({\n            opacity: 0\n        })),\n        transition(':enter', [\n            animate(\"{{ enter }}\", keyframes([\n                style({ opacity: 0, offset: 0, transform: 'translate(0px, 20px)' }),\n                style({ opacity: 0.3, offset: 0.3, transform: 'translate(0px, -10px)' }),\n                style({ opacity: 0.5, offset: 0.5, transform: 'translate(0px, 0px)' }),\n                style({ opacity: 0.75, offset: 0.75, transform: 'translate(0px, 5px)' }),\n                style({ opacity: 1, offset: 1, transform: 'translate(0px, 0px)' })\n            ]))\n        ]),\n        transition(':leave', [\n            animate(\"{{ leave }}\", keyframes([\n                style({ opacity: 1, transform: 'translateX(0)', offset: 0 }),\n                style({ opacity: 1, transform: 'translateX(-15px)', offset: 0.7 }),\n                style({ opacity: 0, transform: 'translateX(100%)', offset: 1.0 })\n            ]))\n        ])\n    ])\n];\nvar DragEvent = ((window)).DragEvent;\nvar CUSTOM_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(function () { return TagInputComponent; }),\n    multi: true\n};\nvar defaults$2 = forwardRef(function () { return OptionsProvider.defaults.tagInput; });\nvar TagInputComponent = /** @class */ (function (_super) {\n    __extends(TagInputComponent, _super);\n    function TagInputComponent(renderer, dragProvider) {\n        var _this = _super.call(this) || this;\n        _this.renderer = renderer;\n        _this.dragProvider = dragProvider;\n        _this.separatorKeys = new defaults$2().separatorKeys;\n        _this.separatorKeyCodes = new defaults$2().separatorKeyCodes;\n        _this.placeholder = new defaults$2().placeholder;\n        _this.secondaryPlaceholder = new defaults$2().secondaryPlaceholder;\n        _this.maxItems = new defaults$2().maxItems;\n        _this.validators = new defaults$2().validators;\n        _this.asyncValidators = new defaults$2().asyncValidators;\n        _this.onlyFromAutocomplete = new defaults$2().onlyFromAutocomplete;\n        _this.errorMessages = new defaults$2().errorMessages;\n        _this.theme = new defaults$2().theme;\n        _this.onTextChangeDebounce = new defaults$2().onTextChangeDebounce;\n        _this.inputId = new defaults$2().inputId;\n        _this.inputClass = new defaults$2().inputClass;\n        _this.clearOnBlur = new defaults$2().clearOnBlur;\n        _this.hideForm = new defaults$2().hideForm;\n        _this.addOnBlur = new defaults$2().addOnBlur;\n        _this.addOnPaste = new defaults$2().addOnPaste;\n        _this.pasteSplitPattern = new defaults$2().pasteSplitPattern;\n        _this.blinkIfDupe = new defaults$2().blinkIfDupe;\n        _this.removable = new defaults$2().removable;\n        _this.editable = new defaults$2().editable;\n        _this.allowDupes = new defaults$2().allowDupes;\n        _this.modelAsStrings = new defaults$2().modelAsStrings;\n        _this.trimTags = new defaults$2().trimTags;\n        _this.ripple = new defaults$2().ripple;\n        _this.tabindex = new defaults$2().tabIndex;\n        _this.disable = new defaults$2().disable;\n        _this.dragZone = new defaults$2().dragZone;\n        _this.onRemoving = new defaults$2().onRemoving;\n        _this.onAdding = new defaults$2().onAdding;\n        _this.animationDuration = new defaults$2().animationDuration;\n        _this.onAdd = new EventEmitter();\n        _this.onRemove = new EventEmitter();\n        _this.onSelect = new EventEmitter();\n        _this.onFocus = new EventEmitter();\n        _this.onBlur = new EventEmitter();\n        _this.onTextChange = new EventEmitter();\n        _this.onPaste = new EventEmitter();\n        _this.onValidationError = new EventEmitter();\n        _this.onTagEdited = new EventEmitter();\n        _this.isLoading = false;\n        _this.listeners = (_b = {}, _b[KEYDOWN] = ([]), _b[KEYUP] = ([]), _b);\n        _this.inputTextChange = new EventEmitter();\n        _this.inputTextValue = '';\n        _this.errors = [];\n        _this.appendTag = function (tag, index) {\n            if (index === void 0) { index = _this.items.length; }\n            var items = _this.items;\n            var model = _this.modelAsStrings ? tag[_this.identifyBy] : tag;\n            _this.items = __spread(items.slice(0, index), [\n                model\n            ], items.slice(index, items.length));\n        };\n        _this.createTag = function (model) {\n            var trim = function (val, key) {\n                return typeof val === 'string' ? val.trim() : val[key];\n            };\n            return Object.assign({}, typeof model !== 'string' ? model : {}, (_b = {}, _b[_this.displayBy] = _this.trimTags ? trim(model, _this.displayBy) : model, _b[_this.identifyBy] = _this.trimTags ? trim(model, _this.identifyBy) : model, _b));\n            var _b;\n        };\n        _this.isTagValid = function (tag, fromAutocomplete) {\n            if (fromAutocomplete === void 0) { fromAutocomplete = false; }\n            var selectedItem = _this.dropdown ? _this.dropdown.selectedItem : undefined;\n            var value = _this.getItemDisplay(tag).trim();\n            if (selectedItem && !fromAutocomplete || !value) {\n                return false;\n            }\n            var dupe = _this.findDupe(tag, fromAutocomplete);\n            if (!_this.allowDupes && dupe && _this.blinkIfDupe) {\n                var model = _this.tags.find(function (item) {\n                    return _this.getItemValue(item.model) === _this.getItemValue(dupe);\n                });\n                if (model) {\n                    model.blink();\n                }\n            }\n            var isFromAutocomplete = fromAutocomplete && _this.onlyFromAutocomplete;\n            var assertions = [\n                !dupe || _this.allowDupes,\n                !_this.maxItemsReached,\n                ((isFromAutocomplete) || !_this.onlyFromAutocomplete)\n            ];\n            return assertions.filter(Boolean).length === assertions.length;\n        };\n        _this.onPasteCallback = function (data) { return __awaiter(_this, void 0, void 0, function () {\n            var _this = this;\n            var getText, text, requests, resetInput;\n            return __generator(this, function (_b) {\n                getText = function () {\n                    var isIE = Boolean(((window)).clipboardData);\n                    var clipboardData = isIE ? (((window)).clipboardData) : data.clipboardData;\n                    var type = isIE ? 'Text' : 'text/plain';\n                    return clipboardData.getData(type) || '';\n                };\n                text = getText();\n                requests = text\n                    .split(this.pasteSplitPattern)\n                    .map(function (item) {\n                    var tag = _this.createTag(item);\n                    _this.setInputValue(tag[_this.displayBy]);\n                    return _this.onAddingRequested(false, tag);\n                });\n                resetInput = function () { return setTimeout(function () { return _this.setInputValue(''); }, 50); };\n                Promise.all(requests).then(function () {\n                    _this.onPaste.emit(text);\n                    resetInput();\n                })\n                    .catch(resetInput);\n                return [2 /*return*/];\n            });\n        }); };\n        return _this;\n        var _b;\n    }\n    Object.defineProperty(TagInputComponent.prototype, \"inputText\", {\n        get: function () {\n            return this.inputTextValue;\n        },\n        set: function (text) {\n            this.inputTextValue = text;\n            this.inputTextChange.emit(text);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TagInputComponent.prototype, \"tabindexAttr\", {\n        get: function () {\n            return this.tabindex !== '' ? '-1' : '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputComponent.prototype.ngAfterViewInit = function () {\n        var _this = this;\n        this.setUpKeypressListeners();\n        this.setupSeparatorKeysListener();\n        this.setUpInputKeydownListeners();\n        if (this.onTextChange.observers.length) {\n            this.setUpTextChangeSubscriber();\n        }\n        if (this.clearOnBlur || this.addOnBlur) {\n            this.setUpOnBlurSubscriber();\n        }\n        if (this.addOnPaste) {\n            this.setUpOnPasteListener();\n        }\n        var statusChanges$ = this.inputForm.form.statusChanges;\n        statusChanges$.pipe(filter(function (status) { return status !== 'PENDING'; })).subscribe(function () {\n            _this.errors = _this.inputForm.getErrorMessages(_this.errorMessages);\n        });\n        this.isProgressBarVisible$ = statusChanges$.pipe(map(function (status) {\n            return status === 'PENDING' || _this.isLoading;\n        }));\n        if (this.hideForm) {\n            this.inputForm.destroy();\n        }\n    };\n    TagInputComponent.prototype.ngOnInit = function () {\n        var hasReachedMaxItems = this.maxItems !== undefined &&\n            this.items &&\n            this.items.length > this.maxItems;\n        if (hasReachedMaxItems) {\n            this.maxItems = this.items.length;\n            console.warn(MAX_ITEMS_WARNING);\n        }\n        this.editable = this.onlyFromAutocomplete ? false : this.editable;\n        this.setAnimationMetadata();\n    };\n    TagInputComponent.prototype.onRemoveRequested = function (tag, index) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            var subscribeFn = function (model) {\n                _this.removeItem(model, index);\n                resolve(tag);\n            };\n            _this.onRemoving ?\n                _this.onRemoving(tag)\n                    .pipe(first())\n                    .subscribe(subscribeFn) : subscribeFn(tag);\n        });\n    };\n    TagInputComponent.prototype.onAddingRequested = function (fromAutocomplete, tag, index, giveupFocus) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var subscribeFn = function (model) {\n                return _this\n                    .addItem(fromAutocomplete, model, index, giveupFocus)\n                    .then(resolve)\n                    .catch(reject);\n            };\n            return _this.onAdding ?\n                _this.onAdding(tag)\n                    .pipe(first())\n                    .subscribe(subscribeFn, reject) : subscribeFn(tag);\n        });\n    };\n    TagInputComponent.prototype.selectItem = function (item, emit) {\n        if (emit === void 0) { emit = true; }\n        var isReadonly = item && typeof item !== 'string' && item[\"readonly\"];\n        if (isReadonly || this.selectedTag === item) {\n            return;\n        }\n        this.selectedTag = item;\n        if (emit) {\n            this.onSelect.emit(item);\n        }\n    };\n    TagInputComponent.prototype.fireEvents = function (eventName, $event) {\n        var _this = this;\n        this.listeners[eventName].forEach(function (listener) { return listener.call(_this, $event); });\n    };\n    TagInputComponent.prototype.handleKeydown = function (data) {\n        var event = data.event;\n        var key = event.keyCode || event.which;\n        var shiftKey = event.shiftKey || false;\n        switch (KEY_PRESS_ACTIONS[key]) {\n            case ACTIONS_KEYS.DELETE:\n                if (this.selectedTag && this.removable) {\n                    var index = this.items.indexOf(this.selectedTag);\n                    this.onRemoveRequested(this.selectedTag, index);\n                }\n                break;\n            case ACTIONS_KEYS.SWITCH_PREV:\n                this.moveToTag(data.model, PREV);\n                break;\n            case ACTIONS_KEYS.SWITCH_NEXT:\n                this.moveToTag(data.model, NEXT);\n                break;\n            case ACTIONS_KEYS.TAB:\n                if (shiftKey) {\n                    if (this.isFirstTag(data.model)) {\n                        return;\n                    }\n                    this.moveToTag(data.model, PREV);\n                }\n                else {\n                    if (this.isLastTag(data.model) && (this.disable || this.maxItemsReached)) {\n                        return;\n                    }\n                    this.moveToTag(data.model, NEXT);\n                }\n                break;\n            default:\n                return;\n        }\n        event.preventDefault();\n    };\n    TagInputComponent.prototype.onFormSubmit = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.onAddingRequested(false, this.formValue)];\n                    case 1:\n                        _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        _a_1 = _b.sent();\n                        return [2 /*return*/];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TagInputComponent.prototype.setInputValue = function (value, emitEvent) {\n        if (emitEvent === void 0) { emitEvent = true; }\n        var control = this.getControl();\n        control.setValue(value, { emitEvent: emitEvent });\n    };\n    TagInputComponent.prototype.getControl = function () {\n        return (this.inputForm.value);\n    };\n    TagInputComponent.prototype.focus = function (applyFocus, displayAutocomplete) {\n        if (applyFocus === void 0) { applyFocus = false; }\n        if (displayAutocomplete === void 0) { displayAutocomplete = false; }\n        if (this.dragProvider.getState('dragging')) {\n            return;\n        }\n        this.selectItem(undefined, false);\n        if (applyFocus) {\n            this.inputForm.focus();\n            this.onFocus.emit(this.formValue);\n        }\n    };\n    TagInputComponent.prototype.blur = function () {\n        this.onTouched();\n        this.onBlur.emit(this.formValue);\n    };\n    TagInputComponent.prototype.hasErrors = function () {\n        return this.inputForm && this.inputForm.hasErrors();\n    };\n    TagInputComponent.prototype.isInputFocused = function () {\n        return this.inputForm && this.inputForm.isInputFocused();\n    };\n    TagInputComponent.prototype.hasCustomTemplate = function () {\n        var template = this.templates ? this.templates.first : undefined;\n        var menuTemplate = this.dropdown && this.dropdown.templates ?\n            this.dropdown.templates.first : undefined;\n        return Boolean(template && template !== menuTemplate);\n    };\n    Object.defineProperty(TagInputComponent.prototype, \"maxItemsReached\", {\n        get: function () {\n            return this.maxItems !== undefined &&\n                this.items.length >= this.maxItems;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TagInputComponent.prototype, \"formValue\", {\n        get: function () {\n            var form = this.inputForm.value;\n            return form ? form.value : '';\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TagInputComponent.prototype.onDragStarted = function (event, tag, index) {\n        event.stopPropagation();\n        var item = ({ zone: this.dragZone, tag: tag, index: index });\n        this.dragProvider.setSender(this);\n        this.dragProvider.setDraggedItem(event, item);\n        this.dragProvider.setState({ dragging: true, index: index });\n    };\n    TagInputComponent.prototype.onDragOver = function (event, index) {\n        this.dragProvider.setState({ dropping: true });\n        this.dragProvider.setReceiver(this);\n        event.preventDefault();\n    };\n    TagInputComponent.prototype.onTagDropped = function (event, index) {\n        var item = this.dragProvider.getDraggedItem(event);\n        if (!item || item.zone !== this.dragZone) {\n            return;\n        }\n        this.dragProvider.onTagDropped(item.tag, item.index, index);\n        event.preventDefault();\n        event.stopPropagation();\n    };\n    TagInputComponent.prototype.isDropping = function () {\n        var isReceiver = this.dragProvider.receiver === this;\n        var isDropping = this.dragProvider.getState('dropping');\n        return Boolean(isReceiver && isDropping);\n    };\n    TagInputComponent.prototype.onTagBlurred = function (changedElement, index) {\n        this.items[index] = changedElement;\n        this.blur();\n    };\n    TagInputComponent.prototype.trackBy = function (index, item) {\n        return item[this.identifyBy];\n    };\n    TagInputComponent.prototype.updateEditedTag = function (_b) {\n        var tag = _b.tag, index = _b.index;\n        this.onTagEdited.emit(tag);\n    };\n    TagInputComponent.prototype.moveToTag = function (item, direction) {\n        var isLast = this.isLastTag(item);\n        var isFirst = this.isFirstTag(item);\n        var stopSwitch = (direction === NEXT && isLast) ||\n            (direction === PREV && isFirst);\n        if (stopSwitch) {\n            this.focus(true);\n            return;\n        }\n        var offset = direction === NEXT ? 1 : -1;\n        var index = this.getTagIndex(item) + offset;\n        var tag = this.getTagAtIndex(index);\n        return tag.select.call(tag);\n    };\n    TagInputComponent.prototype.isFirstTag = function (item) {\n        return this.tags.first.model === item;\n    };\n    TagInputComponent.prototype.isLastTag = function (item) {\n        return this.tags.last.model === item;\n    };\n    TagInputComponent.prototype.getTagIndex = function (item) {\n        var tags = this.tags.toArray();\n        return tags.findIndex(function (tag) { return tag.model === item; });\n    };\n    TagInputComponent.prototype.getTagAtIndex = function (index) {\n        var tags = this.tags.toArray();\n        return tags[index];\n    };\n    TagInputComponent.prototype.removeItem = function (tag, index) {\n        this.items = this.getItemsWithout(index);\n        if (this.selectedTag === tag) {\n            this.selectItem(undefined, false);\n        }\n        this.focus(true, false);\n        this.onRemove.emit(tag);\n    };\n    TagInputComponent.prototype.addItem = function (fromAutocomplete, item, index, giveupFocus) {\n        var _this = this;\n        if (fromAutocomplete === void 0) { fromAutocomplete = false; }\n        var display = this.getItemDisplay(item);\n        var tag = this.createTag(item);\n        if (fromAutocomplete) {\n            this.setInputValue(this.getItemValue(item, true));\n        }\n        return new Promise(function (resolve, reject) {\n            var reset = function () {\n                _this.setInputValue('');\n                if (giveupFocus) {\n                    _this.focus(false, false);\n                }\n                else {\n                    _this.focus(true, false);\n                }\n                resolve(display);\n            };\n            var appendItem = function () {\n                _this.appendTag(tag, index);\n                _this.onAdd.emit(tag);\n                if (!_this.dropdown) {\n                    return;\n                }\n                _this.dropdown.hide();\n                if (_this.dropdown.showDropdownIfEmpty) {\n                    _this.dropdown.show();\n                }\n            };\n            var status = _this.inputForm.form.status;\n            var isTagValid = _this.isTagValid(tag, fromAutocomplete);\n            var onValidationError = function () {\n                _this.onValidationError.emit(tag);\n                return reject();\n            };\n            if (status === 'VALID' && isTagValid) {\n                appendItem();\n                return reset();\n            }\n            if (status === 'INVALID' || !isTagValid) {\n                reset();\n                return onValidationError();\n            }\n            if (status === 'PENDING') {\n                var statusUpdate$ = _this.inputForm.form.statusChanges;\n                return statusUpdate$\n                    .pipe(filter(function (statusUpdate) { return statusUpdate !== 'PENDING'; }), first())\n                    .subscribe(function (statusUpdate) {\n                    if (statusUpdate === 'VALID' && isTagValid) {\n                        appendItem();\n                        resolve();\n                    }\n                    else {\n                        onValidationError();\n                    }\n                });\n            }\n        });\n    };\n    TagInputComponent.prototype.setupSeparatorKeysListener = function () {\n        var _this = this;\n        var useSeparatorKeys = this.separatorKeyCodes.length > 0 || this.separatorKeys.length > 0;\n        var listener = function ($event) {\n            var hasKeyCode = _this.separatorKeyCodes.indexOf($event.keyCode) >= 0;\n            var hasKey = _this.separatorKeys.indexOf($event.key) >= 0;\n            var isIMEProcessing = $event.keyCode === 229;\n            if (hasKeyCode || (hasKey && !isIMEProcessing)) {\n                $event.preventDefault();\n                _this.onAddingRequested(false, _this.formValue)\n                    .catch(function () { });\n            }\n        };\n        listen.call(this, KEYDOWN, listener, useSeparatorKeys);\n    };\n    TagInputComponent.prototype.setUpKeypressListeners = function () {\n        var _this = this;\n        var listener = function ($event) {\n            var isCorrectKey = $event.keyCode === 37 || $event.keyCode === 8;\n            if (isCorrectKey &&\n                !_this.formValue &&\n                _this.items.length) {\n                _this.tags.last.select.call(_this.tags.last);\n            }\n        };\n        listen.call(this, KEYDOWN, listener);\n    };\n    TagInputComponent.prototype.setUpInputKeydownListeners = function () {\n        var _this = this;\n        this.inputForm.onKeydown.subscribe(function (event) {\n            _this.fireEvents('keydown', event);\n            if (event.key === 'Backspace' && _this.formValue.trim() === '') {\n                event.preventDefault();\n            }\n        });\n    };\n    TagInputComponent.prototype.setUpOnPasteListener = function () {\n        var _this = this;\n        var input = this.inputForm.input.nativeElement;\n        this.renderer.listen(input, 'paste', function (event) {\n            _this.onPasteCallback(event);\n            event.preventDefault();\n            return true;\n        });\n    };\n    TagInputComponent.prototype.setUpTextChangeSubscriber = function () {\n        var _this = this;\n        this.inputForm.form\n            .valueChanges\n            .pipe(debounceTime(this.onTextChangeDebounce))\n            .subscribe(function (value) {\n            _this.onTextChange.emit(value.item);\n        });\n    };\n    TagInputComponent.prototype.setUpOnBlurSubscriber = function () {\n        var _this = this;\n        var filterFn = function () {\n            var isVisible = _this.dropdown && _this.dropdown.isVisible;\n            return !isVisible && !!_this.formValue;\n        };\n        this.inputForm\n            .onBlur\n            .pipe(debounceTime(100), filter(filterFn))\n            .subscribe(function () {\n            var reset = function () { return _this.setInputValue(''); };\n            if (_this.addOnBlur) {\n                return _this\n                    .onAddingRequested(false, _this.formValue, undefined, true)\n                    .then(reset)\n                    .catch(reset);\n            }\n            reset();\n        });\n    };\n    TagInputComponent.prototype.findDupe = function (tag, isFromAutocomplete) {\n        var _this = this;\n        var identifyBy = isFromAutocomplete ? this.dropdown.identifyBy : this.identifyBy;\n        var id = tag[identifyBy];\n        return this.items.find(function (item) { return _this.getItemValue(item) === id; });\n    };\n    TagInputComponent.prototype.setAnimationMetadata = function () {\n        this.animationMetadata = {\n            value: 'in',\n            params: Object.assign({}, this.animationDuration)\n        };\n    };\n    return TagInputComponent;\n}(TagInputAccessor));\nTagInputComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'tag-input',\n                providers: [CUSTOM_ACCESSOR],\n                styles: [\".dark tag:focus{-webkit-box-shadow:0 0 0 1px #323232;box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info input{border:none;-webkit-box-shadow:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info .form-control input::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info .form-control input:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info .form-control input::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info input:focus{border:none;-webkit-box-shadow:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused{-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.4);box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid{-webkit-box-shadow:inset 0 1px 1px #d9534f;box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-webkit-transition:all .25s;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.ng2-tag-input.ng2-tag-input--focused{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading{border:none}.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.ng2-tag-input form{margin:.1em 0}.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.minimal.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.dark.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap3-info.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:4px;cursor:text;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input form{margin:.1em 0}.bootstrap3-info.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.error-message{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap .error-message{color:#d9534f}.progress-bar,.progress-bar:before{height:2px;width:100%;margin:0}.progress-bar{background-color:#2196f3;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;bottom:0}.progress-bar:before{background-color:#82c4f8;content:'';-webkit-animation:2s cubic-bezier(.4,0,.2,1) infinite running-progress;animation:2s cubic-bezier(.4,0,.2,1) infinite running-progress}@-webkit-keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}@keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}tag{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;font-family:Roboto,\\\"Helvetica Neue\\\",sans-serif;font-weight:400;font-size:1em;letter-spacing:.05rem;color:#444;border-radius:16px;-webkit-transition:all .3s;transition:all .3s;margin:.1rem .3rem .1rem 0;padding:.08rem .45rem;height:32px;line-height:34px;background:#efefef;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}tag:not(.readonly):not(.tag--editing):focus{background:#2196f3;color:#fff;-webkit-box-shadow:0 2px 3px 1px #d4d1d1;box-shadow:0 2px 3px 1px #d4d1d1}tag:not(.readonly):not(.tag--editing):active{background:#0d8aee;color:#fff;-webkit-box-shadow:0 2px 3px 1px #d4d1d1;box-shadow:0 2px 3px 1px #d4d1d1}tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#e2e2e2;color:initial;-webkit-box-shadow:0 2px 3px 1px #d4d1d1;box-shadow:0 2px 3px 1px #d4d1d1}tag.readonly{cursor:default}tag.readonly:focus,tag:focus{outline:0}tag.tag--editing{background-color:#fff;border:1px solid #ccc;cursor:text}.minimal tag{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;border-radius:0;background:#f9f9f9;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.minimal tag:not(.readonly):not(.tag--editing):active,.minimal tag:not(.readonly):not(.tag--editing):focus{background:#d0d0d0;color:initial}.minimal tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#ececec}.minimal tag.readonly{cursor:default}.minimal tag.readonly:focus,.minimal tag:focus{outline:0}.minimal tag.tag--editing{cursor:text}.dark tag{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#f9f9f9;border-radius:3px;background:#444;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.dark tag:not(.readonly):not(.tag--editing):focus{background:#efefef;color:#444}.dark tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#2b2b2b;color:#f9f9f9}.dark tag.readonly{cursor:default}.dark tag.readonly:focus,.dark tag:focus{outline:0}.dark tag.tag--editing{cursor:text}.bootstrap tag{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;color:#f9f9f9;border-radius:.25rem;background:#0275d8;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.bootstrap tag:not(.readonly):not(.tag--editing):active,.bootstrap tag:not(.readonly):not(.tag--editing):focus{background:#025aa5}.bootstrap tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#0267bf;color:#f9f9f9}.bootstrap tag.readonly{cursor:default}.bootstrap tag.readonly:focus,.bootstrap tag:focus{outline:0}.bootstrap tag.tag--editing{cursor:text}.bootstrap3-info tag{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;font-family:inherit;font-weight:400;font-size:95%;color:#fff;border-radius:.25em;background:#5bc0de;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative;padding:.25em .6em;text-align:center;white-space:nowrap}.bootstrap3-info tag:not(.readonly):not(.tag--editing):active,.bootstrap3-info tag:not(.readonly):not(.tag--editing):focus{background:#28a1c5}.bootstrap3-info tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#46b8da;color:#fff}.bootstrap3-info tag.readonly{cursor:default}.bootstrap3-info tag.readonly:focus,.bootstrap3-info tag:focus{outline:0}.bootstrap3-info tag.tag--editing{cursor:text}:host{display:block}\"],\n                template: \"<!-- CONTAINER -->\\n\\n<div ngClass=\\\"ng2-tag-input {{ theme || '' }}\\\"\\n     (click)=\\\"focus(true, false)\\\"\\n     [attr.tabindex]=\\\"-1\\\"\\n\\n     (drop)=\\\"dragZone ? onTagDropped($event, undefined) : undefined\\\"\\n     (dragenter)=\\\"dragZone ? onDragOver($event) : undefined\\\"\\n     (dragover)=\\\"dragZone ? onDragOver($event) : undefined\\\"\\n     (dragend)=\\\"dragZone ? dragProvider.onDragEnd() : undefined\\\"\\n\\n     [class.ng2-tag-input--dropping]=\\\"isDropping()\\\"\\n     [class.ng2-tag-input--disabled]=\\\"disable\\\"\\n     [class.ng2-tag-input--loading]=\\\"isLoading\\\"\\n     [class.ng2-tag-input--invalid]=\\\"hasErrors()\\\"\\n     [class.ng2-tag-input--focused]=\\\"isInputFocused()\\\">\\n\\n    <!-- TAGS -->\\n    <div class=\\\"ng2-tags-container\\\">\\n        <tag *ngFor=\\\"let item of items; let i = index; trackBy: trackBy\\\"\\n\\n             (onSelect)=\\\"selectItem(item)\\\"\\n             (onRemove)=\\\"onRemoveRequested(item, i)\\\"\\n             (onKeyDown)=\\\"handleKeydown($event)\\\"\\n             (onTagEdited)=\\\"updateEditedTag($event)\\\"\\n             (onBlur)=\\\"onTagBlurred($event, i)\\\"\\n             draggable=\\\"{{ editable }}\\\"\\n\\n             (dragstart)=\\\"dragZone ? onDragStarted($event, item, i) : undefined\\\"\\n             (drop)=\\\"dragZone ? onTagDropped($event, i) : undefined\\\"\\n             (dragenter)=\\\"dragZone ? onDragOver($event) : undefined\\\"\\n             (dragover)=\\\"dragZone ? onDragOver($event, i) : undefined\\\"\\n             (dragleave)=\\\"dragZone ? dragProvider.onDragEnd() : undefined\\\"\\n\\n             [canAddTag]=\\\"isTagValid\\\"\\n             [attr.tabindex]=\\\"0\\\"\\n             [disabled]=\\\"disable\\\"\\n             [@animation]=\\\"animationMetadata\\\"\\n             [hasRipple]=\\\"ripple\\\"\\n             [index]=\\\"i\\\"\\n             [removable]=\\\"removable\\\"\\n             [editable]=\\\"editable\\\"\\n             [displayBy]=\\\"displayBy\\\"\\n             [identifyBy]=\\\"identifyBy\\\"\\n             [template]=\\\"!!hasCustomTemplate() ? templates.first : undefined\\\"\\n             [draggable]=\\\"dragZone\\\"\\n             [model]=\\\"item\\\">\\n        </tag>\\n\\n        <tag-input-form\\n            (onSubmit)=\\\"onFormSubmit()\\\"\\n            (onBlur)=\\\"blur()\\\"\\n            (click)=\\\"dropdown ? dropdown.show() : undefined\\\"\\n            (onKeydown)=\\\"fireEvents('keydown', $event)\\\"\\n            (onKeyup)=\\\"fireEvents('keyup', $event)\\\"\\n\\n            [(inputText)]=\\\"inputText\\\"\\n            [disabled]=\\\"disable\\\"\\n            [validators]=\\\"validators\\\"\\n            [asyncValidators]=\\\"asyncValidators\\\"\\n            [hidden]=\\\"maxItemsReached\\\"\\n            [placeholder]=\\\"items.length ? placeholder : secondaryPlaceholder\\\"\\n            [inputClass]=\\\"inputClass\\\"\\n            [inputId]=\\\"inputId\\\"\\n            [tabindex]=\\\"tabindex\\\">\\n        </tag-input-form>\\n    </div>\\n\\n    <div class=\\\"progress-bar\\\" *ngIf=\\\"isProgressBarVisible$ | async\\\"></div>\\n</div>\\n\\n<!-- ERRORS -->\\n<div *ngIf=\\\"hasErrors()\\\" class=\\\"error-messages {{ theme || '' }}\\\">\\n    <p *ngFor=\\\"let error of errors\\\" class=\\\"error-message\\\">\\n        <span>{{ error }}</span>\\n    </p>\\n</div>\\n\\n<ng-content></ng-content>\\n\",\n                animations: animations\n            },] },\n];\nTagInputComponent.ctorParameters = function () { return [\n    { type: Renderer2, },\n    { type: DragProvider, },\n]; };\nTagInputComponent.propDecorators = {\n    \"separatorKeys\": [{ type: Input },],\n    \"separatorKeyCodes\": [{ type: Input },],\n    \"placeholder\": [{ type: Input },],\n    \"secondaryPlaceholder\": [{ type: Input },],\n    \"maxItems\": [{ type: Input },],\n    \"validators\": [{ type: Input },],\n    \"asyncValidators\": [{ type: Input },],\n    \"onlyFromAutocomplete\": [{ type: Input },],\n    \"errorMessages\": [{ type: Input },],\n    \"theme\": [{ type: Input },],\n    \"onTextChangeDebounce\": [{ type: Input },],\n    \"inputId\": [{ type: Input },],\n    \"inputClass\": [{ type: Input },],\n    \"clearOnBlur\": [{ type: Input },],\n    \"hideForm\": [{ type: Input },],\n    \"addOnBlur\": [{ type: Input },],\n    \"addOnPaste\": [{ type: Input },],\n    \"pasteSplitPattern\": [{ type: Input },],\n    \"blinkIfDupe\": [{ type: Input },],\n    \"removable\": [{ type: Input },],\n    \"editable\": [{ type: Input },],\n    \"allowDupes\": [{ type: Input },],\n    \"modelAsStrings\": [{ type: Input },],\n    \"trimTags\": [{ type: Input },],\n    \"inputText\": [{ type: Input },],\n    \"ripple\": [{ type: Input },],\n    \"tabindex\": [{ type: Input },],\n    \"disable\": [{ type: Input },],\n    \"dragZone\": [{ type: Input },],\n    \"onRemoving\": [{ type: Input },],\n    \"onAdding\": [{ type: Input },],\n    \"animationDuration\": [{ type: Input },],\n    \"onAdd\": [{ type: Output },],\n    \"onRemove\": [{ type: Output },],\n    \"onSelect\": [{ type: Output },],\n    \"onFocus\": [{ type: Output },],\n    \"onBlur\": [{ type: Output },],\n    \"onTextChange\": [{ type: Output },],\n    \"onPaste\": [{ type: Output },],\n    \"onValidationError\": [{ type: Output },],\n    \"onTagEdited\": [{ type: Output },],\n    \"dropdown\": [{ type: ContentChild, args: [TagInputDropdown,] },],\n    \"templates\": [{ type: ContentChildren, args: [TemplateRef, { descendants: false },] },],\n    \"inputForm\": [{ type: ViewChild, args: [TagInputForm,] },],\n    \"tags\": [{ type: ViewChildren, args: [TagComponent,] },],\n    \"inputTextChange\": [{ type: Output },],\n    \"tabindexAttr\": [{ type: HostBinding, args: ['attr.tabindex',] },],\n};\nvar DeleteIconComponent = /** @class */ (function () {\n    function DeleteIconComponent() {\n    }\n    return DeleteIconComponent;\n}());\nDeleteIconComponent.decorators = [\n    { type: Component, args: [{\n                selector: 'delete-icon',\n                template: \"<span>\\n    <svg height=\\\"16px\\\" viewBox=\\\"0 0 32 32\\\" width=\\\"16px\\\">\\n        <path d=\\\"M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z\\\"\\n              fill=\\\"#121313\\\" />\\n    </svg>\\n</span>\\n\",\n                styles: [\".dark tag:focus{-webkit-box-shadow:0 0 0 1px #323232;box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info input{border:none;-webkit-box-shadow:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info .form-control input::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info .form-control input:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info .form-control input::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info input:focus{border:none;-webkit-box-shadow:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused{-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.4);box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid{-webkit-box-shadow:inset 0 1px 1px #d9534f;box-shadow:inset 0 1px 1px #d9534f}.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;-webkit-transition:all .25s;transition:all .25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.ng2-tag-input.ng2-tag-input--focused{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading{border:none}.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.ng2-tag-input form{margin:.1em 0}.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.minimal.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.dark.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.bootstrap3-info.ng2-tag-input{display:block;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;position:relative;padding:4px;cursor:text;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid{border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input form{margin:.1em 0}.bootstrap3-info.ng2-tag-input .ng2-tags-container{-ms-flex-wrap:wrap;flex-wrap:wrap;display:-webkit-box;display:-ms-flexbox;display:flex}.error-message{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap .error-message{color:#d9534f}:host(delete-icon){width:20px;height:16px;-webkit-transition:all .15s;transition:all .15s;display:inline-block;text-align:right}:host(delete-icon) path{fill:#444}:host(delete-icon) svg{vertical-align:bottom;height:34px}:host(delete-icon):hover{-webkit-transform:scale(1.5) translateY(-3px);transform:scale(1.5) translateY(-3px)}:host-context(.dark){text-align:right}:host-context(.dark) path{fill:#fff}:host-context(.dark) svg{vertical-align:bottom;height:34px}:host-context(.minimal){text-align:right}:host-context(.minimal) path{fill:#444}:host-context(.minimal) svg{vertical-align:bottom;height:34px}:host-context(.bootstrap){text-align:right}:host-context(.bootstrap) path{fill:#fff}:host-context(.bootstrap) svg{vertical-align:bottom;height:34px}:host-context(tag:active) path,:host-context(tag:focus) path{fill:#fff}:host-context(.darktag:active) path,:host-context(.darktag:focus) path{fill:#000}:host-context(.minimaltag:active) path,:host-context(.minimaltag:focus) path{fill:#000}:host-context(.bootstraptag:active) path,:host-context(.bootstraptag:focus) path{fill:#fff}:host-context(.bootstrap3-info){height:inherit}:host-context(.bootstrap3-info) path{fill:#fff}\"]\n            },] },\n];\nvar optionsProvider = new OptionsProvider();\nvar TagInputModule = /** @class */ (function () {\n    function TagInputModule() {\n    }\n    TagInputModule.withDefaults = function (options) {\n        optionsProvider.setOptions(options);\n    };\n    return TagInputModule;\n}());\nTagInputModule.decorators = [\n    { type: NgModule, args: [{\n                imports: [\n                    CommonModule,\n                    ReactiveFormsModule,\n                    FormsModule,\n                    Ng2DropdownModule\n                ],\n                declarations: [\n                    TagInputComponent,\n                    DeleteIconComponent,\n                    TagInputForm,\n                    TagComponent,\n                    HighlightPipe,\n                    TagInputDropdown,\n                    TagRipple\n                ],\n                exports: [\n                    TagInputComponent,\n                    DeleteIconComponent,\n                    TagInputForm,\n                    TagComponent,\n                    HighlightPipe,\n                    TagInputDropdown,\n                    TagRipple\n                ],\n                providers: [\n                    DragProvider,\n                    { provide: COMPOSITION_BUFFER_MODE, useValue: false },\n                ]\n            },] },\n];\n\nexport { TagInputModule, TagInputDropdown, DeleteIconComponent, TagInputForm, TagRipple, TagComponent, TagInputComponent, animations as b, TagInputAccessor as a, HighlightPipe as d, DragProvider as c };\n//# sourceMappingURL=ngx-chips.js.map\n","export class LotMast {\n    entry_id: any;\n    lot_id: any;\n    quality_entry_id: any;\n    quality_name: any;\n    quality_type: any;\n    remark: any;\n    created_date: any;\n    updated_date: any;\n    created_by: any;\n    updated_by: any;\n    lot_data: LotData[];\n    constructor() {\n        this.quality_entry_id = '';\n    }\n}\n\nexport class LotData {\n    entry_id: any;\n    control_id: any;\n    gr: any;\n    batch_no: any;\n    no_of_cones_taka: any;\n    mtr: any;\n    wt: any;\n    lot_quality_detail: LotWeightMtrDetail[];\n    unit: any;\n    index: any;\n    constructor() {\n        // this.gr = '';\n        this.unit = '';\n    }\n}\n\nexport class LotWeightMtrDetail {\n    quantity: any;\n    control_id_gr_detail: any;\n    value: any;\n    display: any;\n    lot_mast_control_id: any;\n    entry_id: any;\n    constructor() {\n        this.quantity = '';\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from './api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LotService {\n\n  constructor(private apiService: ApiService) { }\n\n  getAllLots(lotReqObj) {\n    return this.apiService.apiCaller('post', '/lotList', lotReqObj);\n  }\n\n  addLot(lot) {\n    return this.apiService.apiCaller('post', '/addLot', lot);\n  }\n\n  getLotById(id) {\n    return this.apiService.apiCaller('get', '/getLotById/' + id);\n  }\n  getGrListByQualityId(id) {\n    return this.apiService.apiCaller('get', '/getGrListByQualityId/' + id);\n  }\n\n  updateLot(lot) {\n    return this.apiService.apiCaller('post', '/updateLot', lot);\n  }\n\n  deleteLotById(id) {\n    return this.apiService.apiCaller('get', '/deleteLot/' + id);\n  }\n}\n\n","module.exports = \"<nb-card>\\n  <nb-card-header>{{topHeader}}\\n  </nb-card-header>\\n  <nb-card-body>\\n    <form #vform=\\\"ngForm\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-2\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Lot No.</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotModal.lot_id\\\" name=\\\"lotId\\\" #LotId=\\\"ngModel\\\"\\n              required />\\n            <div *ngIf=\\\"LotId.invalid && (LotId.dirty || LotId.touched)\\\" class=\\\"errors\\\">\\n              <div *ngIf=\\\"LotId.errors && LotId.errors.required\\\">\\n                Lot No is required.\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-md-3\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Quality Id</label>\\n            <!-- pattern -->\\n            <select class=\\\"form-control\\\" [(ngModel)]=\\\"lotModal.quality_entry_id\\\" name=\\\"quality_id\\\" #quality=\\\"ngModel\\\"\\n              (change)=\\\"onQualitySelect($event.target.value)\\\" required>\\n              <option disabled value=\\\"\\\">Select Quality Id\\n              </option>\\n              <option *ngFor=\\\"let quality of qualityList\\\" [value]=\\\"quality.entry_id\\\">{{quality.quality_id}}\\n              </option>\\n            </select>\\n            <div *ngIf=\\\"quality.invalid && (quality.dirty || quality.touched)\\\" class=\\\"errors\\\">\\n              <div *ngIf=\\\"quality.errors && quality.errors.required\\\">\\n                Quality Id is required.\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-md-3\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Quality Name</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotModal.quality_name\\\" name=\\\"quallityname\\\"\\n              #qualityName=\\\"ngModel\\\" required />\\n            <div *ngIf=\\\"qualityName.invalid && (qualityName.dirty || qualityName.touched)\\\" class=\\\"errors\\\">\\n              <div *ngIf=\\\"qualityName.errors && qualityName.errors.required\\\">\\n                Quality Name is required.\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"col-md-3\\\">\\n          <div class=\\\"form-group\\\">\\n            <label>Quality Type</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotModal.quality_type\\\" name=\\\"qualitytype\\\"\\n              #qualityType=\\\"ngModel\\\" required />\\n            <div *ngIf=\\\"qualityType.invalid && (qualityType.dirty || qualityType.touched)\\\" class=\\\"errors\\\">\\n              <div *ngIf=\\\"qualityType.errors && qualityType.errors.required\\\">\\n                Quality Type is required.\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <hr>\\n      <div class=\\\"row col-md-12 table table-responsive\\\" *ngIf=\\\"lotDataArray.length\\\">\\n        <ag-grid-angular style=\\\"width: 55%; height:300px\\\" class=\\\"ag-theme-balham\\\" [rowData]=\\\"rowData\\\"\\n          [columnDefs]=\\\"columnDefs\\\" [pagination]=\\\"true\\\" [paginationPageSize]='10'>\\n        </ag-grid-angular>\\n      </div>\\n      <div class=\\\"row\\\">\\n        <form #sform=\\\"ngForm\\\">\\n          <div class=\\\"row col-md-12\\\">\\n            <div class=\\\"col-md-2\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>GR</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Select Gr\\\" name=\\\"Gr\\\" autocomplete=\\\"off\\\"\\n                  [(ngModel)]=\\\"lotDataObj.gr\\\" (click)=\\\"HideShow()\\\">\\n                <div *ngIf=\\\"flagDiv\\\" class=\\\"dropdown\\\">\\n                  <a href=\\\"javascript:void(0)\\\" (click)=\\\"HideShow()\\\" class=\\\"float-right\\\">[X]</a>\\n                  <table class=\\\"table table-bordered pointer table-responsive\\\">\\n                    <thead>\\n                      <tr>\\n                        <th>Gr</th>\\n                        <th>Batch No</th>\\n                        <th>Wt</th>\\n                        <th>mtr</th>\\n                      </tr>\\n                    </thead>\\n                    <tbody>\\n                      <tr *ngFor=\\\"let gr of grList; let i = index\\\" (click)=\\\"selectGr(gr)\\\" class=\\\"pointer\\\">\\n                        <td style=\\\"display:none;\\\">{{gr.gr}}</td>\\n                        <td>{{gr.gr}}</td>\\n                        <td>{{gr.batch_no}}</td>\\n                        <td>{{gr.wt}}</td>\\n                        <td>{{gr.mtr}}</td>\\n                      </tr>\\n                    </tbody>\\n                  </table>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>Batch No.</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotDataObj.batch_no\\\" name=\\\"batch\\\" #Batch=\\\"ngModel\\\"\\n                  required />\\n                <div *ngIf=\\\"Batch.invalid && (Batch.dirty || Batch.touched)\\\" class=\\\"errors\\\">\\n                  <div *ngIf=\\\"Batch.errors && Batch.errors.required\\\">\\n                    Batch No. is required.\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>Mtr</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotDataObj.mtr\\\" name=\\\"Mtr\\\"\\n                  (keypress)=\\\"numberOnly($event)\\\" digits />\\n                <!-- <div *ngIf=\\\"GR.invalid && (GR.dirty || GR.touched)\\\" class=\\\"errors\\\">\\n                    <div *ngIf=\\\"GR.errors && GR.errors.required\\\">\\n                      Gr is required.\\n                    </div>\\n                  </div> -->\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>Weight</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotDataObj.wt\\\" name=\\\"Wt\\\" #weight=\\\"ngModel\\\"\\n                  (keypress)=\\\"numberOnly($event)\\\" digits required />\\n                <div *ngIf=\\\"weight.invalid && (weight.dirty || weight.touched)\\\" class=\\\"errors\\\">\\n                  <div *ngIf=\\\"weight.errors && weight.errors.required\\\">\\n                    Weight is required.\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"row col-md-12\\\">\\n            <div class=\\\"col-md-2\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>No. of Taka</label>\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"lotDataObj.no_of_cones_taka\\\" name=\\\"noOfTaka\\\"\\n                  #taka=\\\"ngModel\\\" (keypress)=\\\"numberOnly($event)\\\" digits required />\\n                <div *ngIf=\\\"taka.invalid && (taka.dirty || taka.touched)\\\" class=\\\"errors\\\">\\n                  <div *ngIf=\\\"taka.errors && taka.errors.required\\\">\\n                    No. of Cones/ Taka is required.\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>Unit</label>\\n                <select class=\\\"form-control\\\" [(ngModel)]=\\\"lotDataObj.unit\\\" name=\\\"unit\\\" #Unit=\\\"ngModel\\\"\\n                  (change)=\\\"onUnitSelect($event.target.value)\\\">\\n                  <option disabled value=\\\"\\\">Select Unit\\n                  </option>\\n                  <option *ngFor=\\\"let item of unit\\\" [value]=\\\"item.id\\\">{{item.value}}</option>\\n                </select>\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-6\\\" *ngIf=\\\"showDetailFlag\\\">\\n              <div class=\\\"form-group\\\">\\n                <label>Detail of Taka</label>\\n                <tag-input name=\\\"detail\\\" [(ngModel)]=\\\"items\\\" [allowDupes]=\\\"true\\\" [theme]=\\\"bootstrap\\\">\\n                </tag-input>\\n              </div>\\n            </div>\\n            <div class=\\\"col-md-2\\\">\\n              <button type=\\\"reset\\\" [disabled]=\\\"sform.invalid\\\" style=\\\"margin-top: 32px;\\\" nbButton\\n                (click)=\\\"onAddRecord(sform)\\\">Add\\n                Record</button>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n\\n      <div class=\\\"box-footer\\\">\\n        <button nbButton [disabled]=\\\"vform.invalid\\\" (click)=\\\"onCustomFormSubmit(vform)\\\">{{subBtnName}}</button>\\n        &nbsp;\\n        <button nbButton type=\\\"reset\\\" routerLink='/pages/lot/view-lot-list' id=\\\"Cancel\\\">Cancel</button>\\n      </div>\\n    </form>\\n  </nb-card-body>\\n</nb-card>\"","module.exports = \".errors {\\n  color: red;\\n  font-size: 13px; }\\n\\noptgroup[label=\\\"GR BATCH_NO WEIGHT METRE NO_OF_CONES/TAKA\\\"] {\\n  color: red; }\\n\\noptgroup {\\n  margin: 1em;\\n  border: 1px solid green; }\\n\\noptgroup option {\\n  margin: 1em;\\n  border: 1px solid orange; }\\n\\n.dropdown {\\n  position: absolute;\\n  border: 1px solid grey;\\n  z-index: 9999;\\n  background-color: white;\\n  padding: 5px; }\\n\\ninput:focus + .dropdown {\\n  display: block;\\n  z-index: 9999999; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2hhcnNoaXQvRGVza3RvcC9uZ3gtd2lyZWZyYW1lL3NyYy9hcHAvcGFnZXMvbG90L2FkZC1lZGl0LWxvdC9hZGQtZWRpdC1sb3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFVO0VBQ1YsZ0JBQWUsRUFDbEI7O0FBRUQ7RUFDSSxXQUFVLEVBQ2I7O0FBRUQ7RUFDSSxZQUFXO0VBQ1gsd0JBQXVCLEVBQ3hCOztBQUNEO0VBQ0UsWUFBVztFQUNYLHlCQUF3QixFQUN6Qjs7QUFDRDtFQUNFLG1CQUFrQjtFQUNsQix1QkFBc0I7RUFDdEIsY0FBYTtFQUNiLHdCQUF1QjtFQUN2QixhQUFZLEVBQ2I7O0FBRUE7RUFDQyxlQUFjO0VBQ2QsaUJBQWdCLEVBQ2pCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbG90L2FkZC1lZGl0LWxvdC9hZGQtZWRpdC1sb3QuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZXJyb3JzIHtcbiAgICBjb2xvcjogcmVkO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbn1cblxub3B0Z3JvdXBbbGFiZWw9XCJHUiBCQVRDSF9OTyBXRUlHSFQgTUVUUkUgTk9fT0ZfQ09ORVMvVEFLQVwiXSB7XG4gICAgY29sb3I6IHJlZDtcbn1cblxub3B0Z3JvdXB7XG4gICAgbWFyZ2luOiAxZW07XG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XG4gIH1cbiAgb3B0Z3JvdXAgb3B0aW9ue1xuICAgIG1hcmdpbjogMWVtO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIG9yYW5nZTtcbiAgfVxuICAuZHJvcGRvd24ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmV5O1xuICAgIHotaW5kZXg6IDk5OTk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgcGFkZGluZzogNXB4O1xuICB9XG4gIFxuICAgaW5wdXQ6Zm9jdXMgKyAuZHJvcGRvd24gIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICB6LWluZGV4OiA5OTk5OTk5O1xuICB9XG4gICJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ColDef } from 'ag-grid-community';\nimport { NgForm } from '@angular/forms';\nimport { AgRendererComponent } from 'ag-grid-angular';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { LotData, LotMast, LotWeightMtrDetail } from '../../../@theme/model/lot-class';\nimport { Quality } from '../../../@theme/model/quality-class';\nimport { LotService } from '../../../@theme/services/lot.service';\nimport { QualityService } from '../../../@theme/services/quality.service';\nimport { ViewReqObj } from '../../../@theme/model/user-class';\ndeclare var $;\n@Component({\n  selector: 'app-add-edit-lot',\n  templateUrl: './add-edit-lot.component.html',\n  styleUrls: ['./add-edit-lot.component.scss']\n})\nexport class AddEditLotComponent implements OnInit {\n\n\n  flagDiv = false;\n  lotDataObj: LotData;\n\n  // grSelection: string;\n  // customerID: number;\n\n\n\n\n  lotModal: LotMast;\n  id: any;\n  subBtnName = '';\n  topHeader = '';\n  viewFlag = false;\n  rowData: any;\n  grList = [];\n  lotDataArray: LotData[] = [];\n  qualityViewReqObj = new ViewReqObj();\n\n  qualityList: Quality[] = [];\n  lotDetailObj: LotWeightMtrDetail[] = [];\n  showDetailFlag = false;\n  selectLabel = 'GR' + '    ' + 'BATCH NO' + '      ' + 'WEIGHT' + '      ' + 'METRE' + '      ' + 'NO OF CONES/TAKA';\n  columnDefs = [\n    { headerName: 'Gr', field: 'gr', width: 100 },\n    { headerName: 'Batch No', field: 'batch_no', width: 100 },\n    { headerName: 'No of Cones/Taka', field: 'no_of_cones_taka', width: 100 },\n    { headerName: 'Mtr', field: 'mtr', width: 100 },\n    { headerName: 'Wt', field: 'wt', width: 100 },\n    { headerName: 'Actions', field: 'index', width: 100 },\n\n  ];\n  unit = [{ 'id': 'wt', 'value': 'Weight' }, { 'id': 'mtr', 'value': 'Metre' }];\n  items: LotWeightMtrDetail[] = [];\n  constructor(private toasterService: ToastrService, private route: ActivatedRoute, private qualityService: QualityService,\n    private router: Router, private lotService: LotService) {\n    this.lotModal = new LotMast();\n    this.lotDataObj = new LotData();\n    this.setColumns();\n  }\n\n  ngOnInit() {\n    this.getQuality();\n    this.onPageLoad();\n  }\n\n  HideShow() {\n    this.flagDiv = !this.flagDiv;\n  }\n\n\n  selectGr(gr) {\n    this.flagDiv = false;\n    const i = this.grList.findIndex(v => v.gr == gr.gr);\n    this.lotDataObj.gr = this.grList[i].gr;\n    this.lotDataObj.wt = this.grList[i].wt;\n    this.lotDataObj.mtr = this.grList[i].mtr;\n    this.lotDataObj.no_of_cones_taka = this.grList[i].no_of_cones;\n    this.lotDataObj.batch_no = this.grList[i].batch_no;\n  }\n\n  onQualitySelect(value) {\n    const i = this.qualityList.findIndex(v => v.entry_id == value);\n    this.lotModal.quality_name = this.qualityList[i].quality_name;\n    this.lotModal.quality_type = this.qualityList[i].quality_type;\n    // console.log('in on quality select ' , value)\n    this.getGrListByQualityId(value);\n  }\n\n  getGrListByQualityId(qualityid) {\n    this.lotService.getGrListByQualityId(qualityid).subscribe(data => {\n      if (!data[0].error) {\n        this.grList = data[0].data;\n        // console.log(\"in qq\")\n        // console.log(this.grList)\n      }\n    })\n  }\n\n  onUnitSelect(value) {\n    this.showDetailFlag = true;\n    this.lotDataObj.unit = value;\n  }\n\n  setColumns() {\n    this.columnDefs.forEach((column: ColDef) => {\n      if (column.field === 'index') {\n        column.cellRendererFramework = CustomRendererLotDataComponent;\n        column.cellRendererParams = {\n          // inRouterLink: '/user/edit-user/',\n          action: this\n        };\n      }\n    });\n  }\n\n  getQuality() {\n    this.qualityService.getAllQualityData(this.qualityViewReqObj).subscribe(data => {\n      if (!data[0].error) {\n        this.qualityList = data[0].data;\n      }\n    })\n  }\n\n  onPageLoad() {\n    this.id = this.route.snapshot.paramMap.get('id');\n    if (this.id != null) {\n      if (this.id) {\n        this.subBtnName = 'Update';\n        this.topHeader = 'Edit Lot';\n\n      } else {\n        this.topHeader = 'Lot View';\n        this.viewFlag = true;\n      }\n      this.lotService.getLotById(this.id).subscribe(\n        data => {\n          if (!data[0].error) {\n            this.lotModal = data[0].data.lot[0];\n            this.lotDataArray = data[0].data.lot_data\n            this.lotDataArray.forEach((ele, index) => {\n              ele.index = index + 1;\n            });\n            this.getGrListByQualityId(this.lotModal.quality_entry_id);\n            this.rowData = [...this.lotDataArray]\n            this.lotModal.lot_data = this.lotDataArray\n          } else {\n            this.toasterService.error(data.message);\n          }\n        }, error => {\n          this.toasterService.error('Server Error');\n        });\n    } else {\n      this.subBtnName = 'Save';\n      this.topHeader = 'Add Lot';\n    }\n  }\n\n  numberOnly(event): boolean {\n    const charCode = (event.which) ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n      return false;\n    }\n    return true;\n  }\n  onAddRecord(form: NgForm) {\n    let flag = 0;\n    let j = 1;\n    if (!this.lotDataArray.length) {\n      this.lotDataObj.index = j;\n    } else {\n      this.lotDataArray.forEach(ele => {\n        if (ele.gr == this.lotDataObj.gr) {\n          if (this.items.length) {\n            this.items.forEach((ele, index) => {\n              if (ele.entry_id === undefined) {\n                let obj = new LotWeightMtrDetail();\n                obj = ele;\n                obj.quantity = ele.value;\n                this.lotDataObj.lot_quality_detail.push(obj);\n              }\n            });\n          } else {\n            this.lotDataObj.lot_quality_detail = [];\n          }\n          ele = this.lotDataObj\n          flag = 1;\n        }\n      });\n      if (!flag) {\n        this.lotDataObj.index = this.lotDataArray.length + 1;\n        if (this.items.length) {\n          this.lotDataObj.lot_quality_detail = [];\n          this.items.forEach((ele, index) => {\n            let obj = new LotWeightMtrDetail();\n            obj.quantity = ele.value;\n            this.lotDataObj.lot_quality_detail.push(obj);\n          });\n          this.lotDataArray.push(this.lotDataObj);\n        } else {\n          this.lotDataObj.lot_quality_detail = [];\n        }\n      }\n    }\n    // if (this.items.length) {\n    //   this.lotDataObj.lot_quality_detail = [];\n    //   this.items.forEach((ele, index) => {\n    //     let obj = new LotWeightMtrDetail();\n    //     obj.quantity = ele.value;\n    //     this.lotDataObj.lot_quality_detail.push(obj);\n    //   });\n    // }\n    // this.lotDataObj.lot_quality_detail = this.lotDetailObj;\n    // this.lotDataArray.forEach(ele => {\n    //   if (ele.gr == this.lotDataObj.gr) {\n    //     ele = this.lotDataObj\n    //     flag = 1;\n    //   }\n    // });\n    // if (!flag) {\n    //   this.lotDataArray.push(this.lotDataObj);\n    // }\n    this.lotDetailObj = [];\n    this.rowData = [...this.lotDataArray];\n    this.lotDataObj = new LotData();\n    form.resetForm();\n  }\n\n  onEditRecord(data) {\n    let i = this.lotDataArray.findIndex(v => v.index == data);\n    this.items = [];\n    this.lotDataArray[i].lot_quality_detail.forEach(ele => {\n      this.showDetailFlag = true;\n      ele.value = ele.quantity !== undefined ? ele.quantity : ele.value;\n      ele.display = ele.quantity !== undefined ? ele.quantity : ele.value;\n      this.items.push(ele);\n    })\n    this.lotDetailObj = this.lotDataArray[i].lot_quality_detail;\n    this.lotDataObj = this.lotDataArray[i];\n  }\n\n  deleteRecord(data) {\n    let i = this.lotDataArray.findIndex(v => v.index == data);\n    this.lotDataArray.splice(i, 1);\n    this.rowData = [...this.lotDataArray]\n  }\n\n  onCustomFormSubmit(form: NgForm) {\n    this.lotModal.lot_data = this.lotDataArray;\n    console.log('lot', this.lotModal);\n    // for update\n    if (this.id) {\n      this.lotService.updateLot(this.lotModal).subscribe(data => {\n        console.log(data)\n        if (!data[0].error) {\n          this.toasterService.success(data[0].message);\n          form.resetForm();\n          this.router.navigate(['/pages/lot/view-lot-list']);\n        } else {\n          this.toasterService.error(data[0].message);\n        }\n      }, error => {\n        this.toasterService.error('Server Error');\n      });\n    } else {\n      console.log(this.lotModal)\n      this.lotService.addLot(this.lotModal).subscribe(data => {\n        data = data[0]\n        if (!data.error) {\n          this.toasterService.success(data.message);\n          form.resetForm();\n          this.router.navigate(['/pages/lot/view-lot-list']);\n        } else {\n          this.toasterService.error(data.message);\n        }\n      }, error => {\n        this.toasterService.error('Server Error');\n      });\n    }\n  }\n}\n@Component({\n  template: `\n  <i class=\"ft-edit-2 font-medium-1 mr-2\" style=\"color:#4ca6ff\" (click)=\"editRecord()\"></i>\n  <i class=\"ft-x font-medium-1 mr-2\" style=\"color:red\" (click)=\"onDeleteRecord()\"></i>`,\n  styleUrls: ['./add-edit-lot.component.scss']\n})\n\nexport class CustomRendererLotDataComponent implements AgRendererComponent {\n  params: any;\n\n  constructor() {\n  }\n  agInit(params: any): void {\n    this.params = params;\n  }\n  refresh(): boolean {\n    return false;\n  }\n\n  editRecord() {\n    this.params.action.onEditRecord(this.params.value)\n  }\n  onDeleteRecord() {\n    this.params.action.deleteRecord(this.params.value)\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AddEditLotComponent } from './add-edit-lot/add-edit-lot.component';\nimport { LotComponent } from './lot.component';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ViewLotComponent } from './view-lot/view-lot.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    children: [\n      {\n        path: 'view-lot-list',\n        component: ViewLotComponent\n      },\n      {\n        path: 'view-lot/:id',\n        component: AddEditLotComponent\n      },\n      {\n        path: 'add-lot',\n        component: AddEditLotComponent,\n      },\n      {\n        path: 'edit-lot/:id',\n        component: AddEditLotComponent,\n      },\n    ]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\n\nexport class LotRoutingModule { }\n","module.exports = \"<router-outlet></router-outlet>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvdC9sb3QuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-lot',\n  templateUrl: './lot.component.html',\n  styleUrls: ['./lot.component.scss']\n})\nexport class LotComponent implements OnInit {\n  ngOnInit() {\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AddEditLotComponent, CustomRendererLotDataComponent } from './add-edit-lot/add-edit-lot.component';\nimport { LotComponent } from './lot.component';\nimport { LotRoutingModule } from './lot-routing.module';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { Ng2SmartTableModule } from 'ng2-smart-table';\nimport { AgGridModule } from 'ag-grid-angular';\nimport { FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { TagInputModule } from 'ngx-chips';\nimport { ViewLotComponent, CustomRendererLotComponent } from './view-lot/view-lot.component';\nimport { ThemeModule } from '../../@theme/theme.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    AgGridModule,\n    NgbModule,\n    Ng2SmartTableModule,\n    NgxDatatableModule,\n    NgSelectModule,\n    LotRoutingModule,\n    TagInputModule,\n    LotRoutingModule,\n    ThemeModule\n  ],\n  declarations: [AddEditLotComponent, LotComponent, CustomRendererLotDataComponent, CustomRendererLotComponent, ViewLotComponent],\n  entryComponents: [CustomRendererLotDataComponent, CustomRendererLotComponent]\n})\n\nexport class LotModule { }\n","module.exports = \"<nb-card>\\n  <nb-card-header>Lot\\n    <button style=\\\"float: right;margin-left: 10px\\\" nbButton size=\\\"xsmall\\\" status=\\\"info\\\" (click)=\\\"onAddLot()\\\">\\n      Add Lot\\n    </button>\\n    <button style=\\\"float: right;\\\" nbButton size=\\\"xsmall\\\" status=\\\"info\\\" (click)=\\\"onExport()\\\">Export</button>\\n  </nb-card-header>\\n  <nb-card-body>\\n      <div  *ngIf=\\\"viewGroupDataPermission && !viewAllDataPermission\\\">\\n          <nb-radio-group class=\\\"row ml-2 mb-2\\\" [(ngModel)]=\\\"radioSelected\\\" (valueChange)=\\\"getLotData($event)\\\">\\n              <nb-radio [value]=\\\"1\\\">\\n                  View Own\\n              </nb-radio>\\n              <nb-radio [value]=\\\"2\\\">\\n                  View Group\\n              </nb-radio>\\n          </nb-radio-group>\\n      </div>\\n      <div *ngIf=\\\"viewGroupDataPermission && viewAllDataPermission\\\">\\n          <nb-radio-group class=\\\"row ml-2 mb-2\\\" [(ngModel)]=\\\"radioSelected\\\" (valueChange)=\\\"getLotData($event)\\\">\\n              <nb-radio class=\\\"radio-inline\\\" [value]=\\\"1\\\">\\n                  View Own\\n              </nb-radio>\\n              <nb-radio class=\\\"radio-inline\\\" [value]=\\\"2\\\">\\n                  View Group\\n              </nb-radio>\\n              <nb-radio class=\\\"radio-inline\\\" [value]=\\\"3\\\">\\n                  View All\\n              </nb-radio>\\n          </nb-radio-group>\\n      </div>\\n    <ag-grid-angular style=\\\"width: 100%; height:500px\\\" class=\\\"ag-theme-balham\\\" [rowData]=\\\"rowData\\\"\\n      [columnDefs]=\\\"columnDefs\\\" [pagination]=\\\"true\\\" [paginationPageSize]='100' (gridReady)=\\\"onGridReady($event)\\\">\\n    </ag-grid-angular>\\n  </nb-card-body>\\n</nb-card>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvdC92aWV3LWxvdC92aWV3LWxvdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { LotMast } from '../../../@theme/model/lot-class';\nimport { LotService } from '../../../@theme/services/lot.service';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { PermissionService } from '../../../@theme/services/permission.service';\nimport { Papa } from 'ngx-papaparse';\nimport { ColDef } from 'ag-grid-community';\nimport { AgRendererComponent } from 'ag-grid-angular';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { ConfirmDialogComponent } from '../../../@theme/components/confirm-dialog/confirm-dialog.component';\nimport * as XLSX from 'xlsx';\nimport { AuthService } from '../../../@theme/services/auth.service';\nimport { Subscription } from 'rxjs';\nimport { ViewReqObj } from '../../../@theme/model/user-class';\n\n@Component({\n  selector: 'ngx-view-lot',\n  templateUrl: './view-lot.component.html',\n  styleUrls: ['./view-lot.component.scss']\n})\nexport class ViewLotComponent implements OnInit, OnDestroy {\n\n  lotList: LotMast[] = [];\n  currentUser;\n  rowData;\n  gridApi;\n  gridColumnApi;\n  addLotPermission = 1;\n  columnDefs = [\n    { headerName: 'Actions', field: 'entry_id', sortable: false, width: 120 },\n    { headerName: 'Lot No.', field: 'lot_id', sortable: true, filter: true },\n    { headerName: 'Quality Id', field: 'quality_id', sortable: true, filter: true },\n    { headerName: 'Quality Name', field: 'quality_name', sortable: true, filter: true },\n    { headerName: 'Quality Type', field: 'quality_type', sortable: true, filter: true },\n  ];\n  columnExportDefs = [\n    'lot_id', 'quality_id', 'quality_name', 'quality_type'];\n  currentUserId: any;\n  currentUser$: Subscription;\n  currentUserPermission = [];\n  viewAllDataPermission: any = false;\n  viewOwnDataPermission: any = false;\n  viewGroupDataPermission = false;\n  radioSelected: any = 1;\n  lotReqObj = new ViewReqObj();\n\n  constructor(private lotService: LotService, private router: Router, private tosterService: ToastrService\n    , private permissionService: PermissionService, private papa: Papa, private authService: AuthService) {\n    this.currentUser$ = this.authService.currentUser.subscribe(ele => {\n      if (ele != null) {\n        this.currentUser = ele.user;\n        this.currentUserId = ele.user.user_id;\n        this.currentUserPermission = ele.user_permission;\n      }\n    });\n    this.setColumns();\n  }\n\n\n  ngOnInit() {\n    if (this.currentUserPermission.length) {\n      this.currentUserPermission.forEach(ele => {\n        if (ele.form_name === 'Lot') {\n          // this.addLotPermission = ele.can_add;\n          this.addLotPermission = 1;\n          this.viewAllDataPermission = ele.can_view_all;\n          this.viewGroupDataPermission = ele.can_view_group;\n          this.viewOwnDataPermission = ele.can_view;\n        }\n      })\n    }\n    this.getLotData();\n  }\n  ngOnDestroy() {\n    this.currentUser$.unsubscribe();\n  }\n  getLotData(value?) {\n    this.lotReqObj = new ViewReqObj();\n    if (value) {\n      this.radioSelected = value;\n    }\n    if (this.viewOwnDataPermission && this.radioSelected == 1) {\n      this.lotReqObj.created_by = this.currentUserId;\n    }\n    if (this.viewGroupDataPermission && this.radioSelected == 2) {\n      this.lotReqObj.created_by = this.currentUserId;\n      this.lotReqObj.user_head_id = this.currentUser.user_head_id;\n    }\n    if (this.viewAllDataPermission && this.radioSelected == 3) {\n      this.lotReqObj.created_by = null;\n      this.lotReqObj.user_head_id = null;\n    }\n    this.lotService.getAllLots(this.lotReqObj).subscribe(data => {\n      if (!data[0].error) {\n        this.lotList = data[0].data;\n        this.rowData = data[0].data;\n      } else {\n        this.tosterService.error(data[0].message);\n      }\n    });\n  }\n  setColumns() {\n    this.columnDefs.forEach((column: ColDef) => {\n      if (column.field === 'entry_id') {\n        column.cellRendererFramework = CustomRendererLotComponent;\n        column.cellRendererParams = {\n          inRouterLink: '/pages/lot/edit-lot/',\n          inViewLink: '/pages/lot/view-lot/',\n          action: this\n        };\n      }\n    });\n  }\n  onGridReady(params) {\n    this.gridApi = params.api;\n    this.gridColumnApi = params.columnApi;\n    // this.getUserList(this.currentUserId);\n  }\n  onAddLot() {\n    if (this.addLotPermission) {\n      this.router.navigate(['/pages/lot/add-lot']);\n    } else {\n      const res = this.permissionService.callPermissionView('Ask for Permission', 'You do not have access permission to add lot. If you want to add lot ask admin for permission.');\n      if (res) {\n\n      } else {\n\n      }\n    }\n  }\n  onExport() {\n    var params = {\n      columnKeys: this.columnExportDefs\n    };\n    var data = this.gridApi.getDataAsCsv(params);\n    this.papa.parse(data, {\n      complete: (result) => {\n        this.exportExcel(result.data);\n      }\n    });\n  }\n\n  exportExcel(data) {\n    const worksheet: XLSX.WorkSheet = XLSX.utils.json_to_sheet(data);\n    const workbook: XLSX.WorkBook = { Sheets: { 'data': worksheet }, SheetNames: ['data'] };\n    XLSX.writeFile(workbook, 'my_file.xls', { bookType: 'xls', type: 'buffer' });\n  }\n}\n\n@Component({\n  template: `\n  <i class=\"ft-edit-2 font-medium-1 mr-2\" style=\"color:#4ca6ff\" (click)=\"editLot()\"></i>\n  <i class=\"ft-info font-medium-1 mr-2\" style=\"color:#4ca6ff\"></i>\n  <i class=\"ft-x font-medium-1 mr-2\" style=\"color:red\" (click)=\"onDeleteLot()\"></i>`,\n  styleUrls: ['./view-lot.component.scss']\n})\n\nexport class CustomRendererLotComponent implements AgRendererComponent {\n  params: any;\n  editLotPermission = 1;\n  deleteLotPermission = 1;\n  currentUserId: any;\n  currentUser$: Subscription;\n  currentUserPermission = [];\n  currentUser;\n\n  constructor(private router: Router, private _modalService: NgbModal, private lotService: LotService,\n    private toasterService: ToastrService, private permissionService: PermissionService, private authService: AuthService) {\n    this.currentUser$ = this.authService.currentUser.subscribe(ele => {\n      if (ele != null) {\n        this.currentUser = ele.user;\n        this.currentUserPermission = ele.user_permission;\n      }\n    });\n  }\n  agInit(params: any): void {\n    this.params = params;\n    this.currentUserPermission.forEach(ele => {\n      if (ele.form_name === 'Lot') {\n        if (this.params.action.radioSelected == 1) {\n          this.editLotPermission = ele.can_edit;\n          this.deleteLotPermission = ele.can_delete;\n        } else if (this.params.action.radioSelected == 2) {\n          this.editLotPermission = ele.can_edit_group;\n          this.deleteLotPermission = ele.can_delete_group;\n        } else if (this.params.action.radioSelected == 3) {\n          this.editLotPermission = ele.can_edit_all;\n          this.deleteLotPermission = ele.can_delete_all;\n        }\n      }\n    })\n    // this.editLotPermission = parseInt(JSON.parse(localStorage.getItem('currentUser')).can_edit_lot);\n    // this.deleteLotPermission = parseInt(JSON.parse(localStorage.getItem('currentUser')).can_delete_lot);\n  }\n  refresh(): boolean {\n    return false;\n  }\n\n  viewBill() {\n    //  this.router.navigate([this.params.inViewLink + 0]);\n  }\n\n  editLot() {\n    if (this.editLotPermission) {\n      this.router.navigate([this.params.inRouterLink + this.params.value]);\n    } else {\n      const res = this.permissionService.callPermissionView('Ask for Permission', 'You do not have access permission to edit lot. If you want to edit lot ask admin for permission.');\n      if (res) {\n\n      } else {\n\n      }\n    }\n  }\n  onDeleteLot() {\n    if (this.deleteLotPermission) {\n      const modalRef = this._modalService.open(ConfirmDialogComponent);\n      modalRef.componentInstance.titleFrom = 'Delete Lot ';\n      modalRef.componentInstance.message = 'Are you sure you want to delete this lot?';\n      modalRef.result\n        .then((result) => {\n          if (result) {\n            const id = this.params.value;\n            this.lotService.deleteLotById(id).subscribe(data => {\n              if (!data[0].error) {\n                this.params.action.getBillData();\n                this.toasterService.success(data[0].message);\n              } else {\n                this.toasterService.error(data[0].message);\n              }\n            });\n          }\n        });\n    } else {\n      const res = this.permissionService.callPermissionView('Ask for Permission', 'You do not have access permission to delete lot. If you want to delete lot ask admin for permission.');\n      if (res) {\n\n      } else {\n\n      }\n    }\n  }\n}\n"],"sourceRoot":""}